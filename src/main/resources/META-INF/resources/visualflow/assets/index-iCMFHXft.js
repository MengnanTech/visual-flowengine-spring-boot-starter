import{r as h,A as bt,_ as se,b as D,d as le,c as Z,f as M,W as X,g as Je,a as Ct,e as ja,k as gr,l as La,w as Ae,j as U,S as pe}from"./index-RH1sRjLc.js";import{F as za}from"./index-ZHRWl0NP.js";import{L as Da,p as Fn,q as Ba,_ as q,l as Gn,m as Kn,r as Zn,g as Xe,s as qa,v as Ha,b as Wa,C as fi,x as lt,y as je,z as ke,c as Ua,d as Xa,e as Qn,A as Y,i as Ya,t as Ga,f as Jn,B as di,D as Ka,h as ie,E as Za,N as Qa,F as Ja,n as eo,G as er,H as to,I as tr}from"./Compact-ld-axhXn.js";import{b as $n,K as Wt,C as hi,j as rn,L as no,B as nr,l as mi,m as ro,P as io,_ as _t,n as Ee,u as ao,i as oo,h as gi,g as so,z as lo,p as ht,q as co,r as pi,s as uo,t as fo,v as ho,w as mo,x as go,f as po}from"./index-bPXYZ2vP.js";var vo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};const yo=vo;var xo=function(t,n){return h.createElement(bt,se({},t,{ref:n,icon:yo}))};const vi=h.forwardRef(xo);var wo={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"};const bo=wo;var Co=function(t,n){return h.createElement(bt,se({},t,{ref:n,icon:bo}))};const yi=h.forwardRef(Co);var _o={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"};const Eo=_o;var Fo=function(t,n){return h.createElement(bt,se({},t,{ref:n,icon:Eo}))};const an=h.forwardRef(Fo);var $o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"};const Po=$o;var So=function(t,n){return h.createElement(bt,se({},t,{ref:n,icon:Po}))};const xi=h.forwardRef(So);var No={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"};const Oo=No;var To=function(t,n){return h.createElement(bt,se({},t,{ref:n,icon:Oo}))};const wi=h.forwardRef(To),Mo=(e,t)=>{const n=h.useContext(Da),r=h.useMemo(()=>{var a;const o=t||Fn[e],l=(a=n==null?void 0:n[e])!==null&&a!==void 0?a:{};return Object.assign(Object.assign({},typeof o=="function"?o():o),l||{})},[e,t,n]),i=h.useMemo(()=>{const a=n==null?void 0:n.locale;return n!=null&&n.exist&&!a?Fn.locale:a},[n]);return[r,i]},rr=Mo;var ko=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,Ro=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,Ao="".concat(ko," ").concat(Ro).split(/[\s\n]+/),Io="aria-",Vo="data-";function pr(e,t){return e.indexOf(t)===0}function jo(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n;t===!1?n={aria:!0,data:!0,attr:!0}:t===!0?n={aria:!0}:n=D({},t);var r={};return Object.keys(e).forEach(function(i){(n.aria&&(i==="role"||pr(i,Io))||n.data&&pr(i,Vo)||n.attr&&Ao.includes(i))&&(r[i]=e[i])}),r}var bi=h.forwardRef(function(e,t){var n=e.prefixCls,r=e.style,i=e.className,a=e.duration,o=a===void 0?4.5:a,l=e.eventKey,s=e.content,c=e.closable,u=e.closeIcon,d=u===void 0?"x":u,f=e.props,p=e.onClick,b=e.onNoticeClose,v=e.times,w=e.hovering,g=h.useState(!1),x=le(g,2),C=x[0],y=x[1],$=w||C,F=function(){b(l)},S=function(O){(O.key==="Enter"||O.code==="Enter"||O.keyCode===$n.ENTER)&&F()};h.useEffect(function(){if(!$&&o>0){var N=setTimeout(function(){F()},o*1e3);return function(){clearTimeout(N)}}},[o,$,v]);var R="".concat(n,"-notice");return h.createElement("div",se({},f,{ref:t,className:Z(R,i,M({},"".concat(R,"-closable"),c)),style:r,onMouseEnter:function(O){var T;y(!0),f==null||(T=f.onMouseEnter)===null||T===void 0||T.call(f,O)},onMouseLeave:function(O){var T;y(!1),f==null||(T=f.onMouseLeave)===null||T===void 0||T.call(f,O)},onClick:p}),h.createElement("div",{className:"".concat(R,"-content")},s),c&&h.createElement("a",{tabIndex:0,className:"".concat(R,"-close"),onKeyDown:S,onClick:function(O){O.preventDefault(),O.stopPropagation(),F()}},d))}),Ci=X.createContext({}),Lo=function(t){var n=t.children,r=t.classNames;return X.createElement(Ci.Provider,{value:{classNames:r}},n)},vr=8,yr=3,xr=16,zo=function(t){var n={offset:vr,threshold:yr,gap:xr};if(t&&Je(t)==="object"){var r,i,a;n.offset=(r=t.offset)!==null&&r!==void 0?r:vr,n.threshold=(i=t.threshold)!==null&&i!==void 0?i:yr,n.gap=(a=t.gap)!==null&&a!==void 0?a:xr}return[!!t,n]},Do=["className","style","classNames","styles"],Bo=function(t){var n,r=t.configList,i=t.placement,a=t.prefixCls,o=t.className,l=t.style,s=t.motion,c=t.onAllNoticeRemoved,u=t.onNoticeClose,d=t.stack,f=h.useContext(Ci),p=f.classNames,b=h.useRef({}),v=h.useState(null),w=le(v,2),g=w[0],x=w[1],C=h.useState([]),y=le(C,2),$=y[0],F=y[1],S=r.map(function(E){return{config:E,key:String(E.key)}}),R=zo(d),N=le(R,2),O=N[0],T=N[1],L=T.offset,z=T.threshold,m=T.gap,P=O&&($.length>0||S.length<=z),_=typeof s=="function"?s(i):s;return h.useEffect(function(){O&&$.length>1&&F(function(E){return E.filter(function(k){return S.some(function(A){var I=A.key;return k===I})})})},[$,S,O]),h.useEffect(function(){var E;if(O&&b.current[(E=S[S.length-1])===null||E===void 0?void 0:E.key]){var k;x(b.current[(k=S[S.length-1])===null||k===void 0?void 0:k.key])}},[S,O]),X.createElement(Ba,se({key:i,className:Z(a,"".concat(a,"-").concat(i),p==null?void 0:p.list,o,(n={},M(n,"".concat(a,"-stack"),!!O),M(n,"".concat(a,"-stack-expanded"),P),n)),style:l,keys:S,motionAppear:!0},_,{onAllRemoved:function(){c(i)}}),function(E,k){var A=E.config,I=E.className,j=E.style,V=E.index,B=A,H=B.key,Q=B.times,J=String(H),G=A,re=G.className,de=G.style,Te=G.classNames,$e=G.styles,rt=Ct(G,Do),ee=S.findIndex(function(Ot){return Ot.key===J}),Me={};if(O){var it=S.length-1-(ee>-1?ee:V-1),hr=i==="top"||i==="bottom"?"-50%":"0";if(it>0){var dn,hn,mn;Me.height=P?(dn=b.current[J])===null||dn===void 0?void 0:dn.offsetHeight:g==null?void 0:g.offsetHeight;for(var mr=0,gn=0;gn<it;gn++){var pn;mr+=((pn=b.current[S[S.length-1-gn].key])===null||pn===void 0?void 0:pn.offsetHeight)+m}var Aa=(P?mr:it*L)*(i.startsWith("top")?1:-1),Ia=!P&&g!==null&&g!==void 0&&g.offsetWidth&&(hn=b.current[J])!==null&&hn!==void 0&&hn.offsetWidth?((g==null?void 0:g.offsetWidth)-L*2*(it<3?it:3))/((mn=b.current[J])===null||mn===void 0?void 0:mn.offsetWidth):1;Me.transform="translate3d(".concat(hr,", ").concat(Aa,"px, 0) scaleX(").concat(Ia,")")}else Me.transform="translate3d(".concat(hr,", 0, 0)")}return X.createElement("div",{ref:k,className:Z("".concat(a,"-notice-wrapper"),I,Te==null?void 0:Te.wrapper),style:D(D(D({},j),Me),$e==null?void 0:$e.wrapper),onMouseEnter:function(){return F(function(Ie){return Ie.includes(J)?Ie:[].concat(q(Ie),[J])})},onMouseLeave:function(){return F(function(Ie){return Ie.filter(function(Va){return Va!==J})})}},X.createElement(bi,se({},rt,{ref:function(Ie){ee>-1?b.current[J]=Ie:delete b.current[J]},prefixCls:a,classNames:Te,styles:$e,className:Z(re,p==null?void 0:p.notice),style:de,times:Q,key:H,eventKey:H,onNoticeClose:u,hovering:O&&$.length>0})))})},qo=h.forwardRef(function(e,t){var n=e.prefixCls,r=n===void 0?"rc-notification":n,i=e.container,a=e.motion,o=e.maxCount,l=e.className,s=e.style,c=e.onAllRemoved,u=e.stack,d=e.renderNotifications,f=h.useState([]),p=le(f,2),b=p[0],v=p[1],w=function(N){var O,T=b.find(function(L){return L.key===N});T==null||(O=T.onClose)===null||O===void 0||O.call(T),v(function(L){return L.filter(function(z){return z.key!==N})})};h.useImperativeHandle(t,function(){return{open:function(N){v(function(O){var T=q(O),L=T.findIndex(function(P){return P.key===N.key}),z=D({},N);if(L>=0){var m;z.times=(((m=O[L])===null||m===void 0?void 0:m.times)||0)+1,T[L]=z}else z.times=0,T.push(z);return o>0&&T.length>o&&(T=T.slice(-o)),T})},close:function(N){w(N)},destroy:function(){v([])}}});var g=h.useState({}),x=le(g,2),C=x[0],y=x[1];h.useEffect(function(){var R={};b.forEach(function(N){var O=N.placement,T=O===void 0?"topRight":O;T&&(R[T]=R[T]||[],R[T].push(N))}),Object.keys(C).forEach(function(N){R[N]=R[N]||[]}),y(R)},[b]);var $=function(N){y(function(O){var T=D({},O),L=T[N]||[];return L.length||delete T[N],T})},F=h.useRef(!1);if(h.useEffect(function(){Object.keys(C).length>0?F.current=!0:F.current&&(c==null||c(),F.current=!1)},[C]),!i)return null;var S=Object.keys(C);return ja.createPortal(h.createElement(h.Fragment,null,S.map(function(R){var N=C[R],O=h.createElement(Bo,{key:R,configList:N,placement:R,prefixCls:r,className:l==null?void 0:l(R),style:s==null?void 0:s(R),motion:a,onNoticeClose:w,onAllNoticeRemoved:$,stack:u});return d?d(O,{prefixCls:r,key:R}):O})),i)}),Ho=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications"],Wo=function(){return document.body},wr=0;function Uo(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach(function(i){i&&Object.keys(i).forEach(function(a){var o=i[a];o!==void 0&&(e[a]=o)})}),e}function Xo(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.getContainer,n=t===void 0?Wo:t,r=e.motion,i=e.prefixCls,a=e.maxCount,o=e.className,l=e.style,s=e.onAllRemoved,c=e.stack,u=e.renderNotifications,d=Ct(e,Ho),f=h.useState(),p=le(f,2),b=p[0],v=p[1],w=h.useRef(),g=h.createElement(qo,{container:b,ref:w,prefixCls:i,motion:r,maxCount:a,className:o,style:l,onAllRemoved:s,stack:c,renderNotifications:u}),x=h.useState([]),C=le(x,2),y=C[0],$=C[1],F=h.useMemo(function(){return{open:function(R){var N=Uo(d,R);(N.key===null||N.key===void 0)&&(N.key="rc-notification-".concat(wr),wr+=1),$(function(O){return[].concat(q(O),[{type:"open",config:N}])})},close:function(R){$(function(N){return[].concat(q(N),[{type:"close",key:R}])})},destroy:function(){$(function(R){return[].concat(q(R),[{type:"destroy"}])})}}},[]);return h.useEffect(function(){v(n())}),h.useEffect(function(){w.current&&y.length&&(y.forEach(function(S){switch(S.type){case"open":w.current.open(S.config);break;case"close":w.current.close(S.key);break;case"destroy":w.current.destroy();break}}),$(function(S){return S.filter(function(R){return!y.includes(R)})}))},[y]),[F,g]}const Yo=e=>{const{componentCls:t,iconCls:n,boxShadow:r,colorText:i,colorSuccess:a,colorError:o,colorWarning:l,colorInfo:s,fontSizeLG:c,motionEaseInOutCirc:u,motionDurationSlow:d,marginXS:f,paddingXS:p,borderRadiusLG:b,zIndexPopup:v,contentPadding:w,contentBg:g}=e,x=`${t}-notice`,C=new Wt("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:p,transform:"translateY(0)",opacity:1}}),y=new Wt("MessageMoveOut",{"0%":{maxHeight:e.height,padding:p,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}}),$={padding:p,textAlign:"center",[`${t}-custom-content > ${n}`]:{verticalAlign:"text-bottom",marginInlineEnd:f,fontSize:c},[`${x}-content`]:{display:"inline-block",padding:w,background:g,borderRadius:b,boxShadow:r,pointerEvents:"all"},[`${t}-success > ${n}`]:{color:a},[`${t}-error > ${n}`]:{color:o},[`${t}-warning > ${n}`]:{color:l},[`${t}-info > ${n},
      ${t}-loading > ${n}`]:{color:s}};return[{[t]:Object.assign(Object.assign({},Zn(e)),{color:i,position:"fixed",top:f,width:"100%",pointerEvents:"none",zIndex:v,[`${t}-move-up`]:{animationFillMode:"forwards"},[`
        ${t}-move-up-appear,
        ${t}-move-up-enter
      `]:{animationName:C,animationDuration:d,animationPlayState:"paused",animationTimingFunction:u},[`
        ${t}-move-up-appear${t}-move-up-appear-active,
        ${t}-move-up-enter${t}-move-up-enter-active
      `]:{animationPlayState:"running"},[`${t}-move-up-leave`]:{animationName:y,animationDuration:d,animationPlayState:"paused",animationTimingFunction:u},[`${t}-move-up-leave${t}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[t]:{[`${x}-wrapper`]:Object.assign({},$)}},{[`${t}-notice-pure-panel`]:Object.assign(Object.assign({},$),{padding:0,textAlign:"start"})}]},Go=e=>({zIndexPopup:e.zIndexPopupBase+hi+10,contentBg:e.colorBgElevated,contentPadding:`${(e.controlHeightLG-e.fontSize*e.lineHeight)/2}px ${e.paddingSM}px`}),_i=Gn("Message",e=>{const t=Kn(e,{height:150});return[Yo(t)]},Go);var Ko=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Zo={info:h.createElement(wi,null),success:h.createElement(vi,null),error:h.createElement(yi,null),warning:h.createElement(xi,null),loading:h.createElement(no,null)},Ei=e=>{let{prefixCls:t,type:n,icon:r,children:i}=e;return h.createElement("div",{className:Z(`${t}-custom-content`,`${t}-${n}`)},r||Zo[n],h.createElement("span",null,i))},Qo=e=>{const{prefixCls:t,className:n,type:r,icon:i,content:a}=e,o=Ko(e,["prefixCls","className","type","icon","content"]),{getPrefixCls:l}=h.useContext(Xe),s=t||l("message"),c=rn(s),[u,d,f]=_i(s,c);return u(h.createElement(bi,Object.assign({},o,{prefixCls:s,className:Z(n,d,`${s}-notice-pure-panel`,f,c),eventKey:"pure",duration:null,content:h.createElement(Ei,{prefixCls:s,type:r,icon:i},a)})))},Jo=Qo;function es(e,t){return{motionName:t??`${e}-move-up`}}function ir(e){let t;const n=new Promise(i=>{t=e(()=>{i(!0)})}),r=()=>{t==null||t()};return r.then=(i,a)=>n.then(i,a),r.promise=n,r}var ts=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const ns=8,rs=3,is=e=>{let{children:t,prefixCls:n}=e;const r=rn(n),[i,a,o]=_i(n,r);return i(h.createElement(Lo,{classNames:{list:Z(a,o,r)}},t))},as=(e,t)=>{let{prefixCls:n,key:r}=t;return h.createElement(is,{prefixCls:n,key:r},e)},os=h.forwardRef((e,t)=>{const{top:n,prefixCls:r,getContainer:i,maxCount:a,duration:o=rs,rtl:l,transitionName:s,onAllRemoved:c}=e,{getPrefixCls:u,getPopupContainer:d,message:f}=h.useContext(Xe),p=r||u("message"),b=()=>({left:"50%",transform:"translateX(-50%)",top:n??ns}),v=()=>Z({[`${p}-rtl`]:l}),w=()=>es(p,s),g=h.createElement("span",{className:`${p}-close-x`},h.createElement(an,{className:`${p}-close-icon`})),[x,C]=Xo({prefixCls:p,style:b,className:v,motion:w,closable:!1,closeIcon:g,duration:o,getContainer:()=>(i==null?void 0:i())||(d==null?void 0:d())||document.body,maxCount:a,onAllRemoved:c,renderNotifications:as});return h.useImperativeHandle(t,()=>Object.assign(Object.assign({},x),{prefixCls:p,message:f})),C});let br=0;function Fi(e){const t=h.useRef(null);return qa(),[h.useMemo(()=>{const r=s=>{var c;(c=t.current)===null||c===void 0||c.close(s)},i=s=>{if(!t.current){const F=()=>{};return F.then=()=>{},F}const{open:c,prefixCls:u,message:d}=t.current,f=`${u}-notice`,{content:p,icon:b,type:v,key:w,className:g,style:x,onClose:C}=s,y=ts(s,["content","icon","type","key","className","style","onClose"]);let $=w;return $==null&&(br+=1,$=`antd-message-${br}`),ir(F=>(c(Object.assign(Object.assign({},y),{key:$,content:h.createElement(Ei,{prefixCls:u,type:v,icon:b},p),placement:"top",className:Z(v&&`${f}-${v}`,g,d==null?void 0:d.className),style:Object.assign(Object.assign({},d==null?void 0:d.style),x),onClose:()=>{C==null||C(),F()}})),()=>{r($)}))},o={open:i,destroy:s=>{var c;s!==void 0?r(s):(c=t.current)===null||c===void 0||c.destroy()}};return["info","success","warning","error","loading"].forEach(s=>{const c=(u,d,f)=>{let p;u&&typeof u=="object"&&"content"in u?p=u:p={content:u};let b,v;typeof d=="function"?v=d:(b=d,v=f);const w=Object.assign(Object.assign({onClose:v,duration:b},p),{type:s});return i(w)};o[s]=c}),o},[]),h.createElement(os,Object.assign({key:"message-holder"},e,{ref:t}))]}function ss(e){return Fi(e)}function ls(){const[e,t]=h.useState([]),n=h.useCallback(r=>(t(i=>[].concat(q(i),[r])),()=>{t(i=>i.filter(a=>a!==r))}),[]);return[e,n]}function Cr(e){return!!(e&&e.then)}const cs=e=>{const{type:t,children:n,prefixCls:r,buttonProps:i,close:a,autoFocus:o,emitEvent:l,isSilent:s,quitOnNullishReturnValue:c,actionFn:u}=e,d=h.useRef(!1),f=h.useRef(null),[p,b]=Ha(!1),v=function(){a==null||a.apply(void 0,arguments)};h.useEffect(()=>{let x=null;return o&&(x=setTimeout(()=>{var C;(C=f.current)===null||C===void 0||C.focus()})),()=>{x&&clearTimeout(x)}},[]);const w=x=>{Cr(x)&&(b(!0),x.then(function(){b(!1,!0),v.apply(void 0,arguments),d.current=!1},C=>{if(b(!1,!0),d.current=!1,!(s!=null&&s()))return Promise.reject(C)}))},g=x=>{if(d.current)return;if(d.current=!0,!u){v();return}let C;if(l){if(C=u(x),c&&!Cr(C)){d.current=!1,v(x);return}}else if(u.length)C=u(a),d.current=!1;else if(C=u(),!C){v();return}w(C)};return h.createElement(nr,Object.assign({},mi(t),{onClick:g,loading:p,prefixCls:r},i,{ref:f}),n)},$i=cs,Et=X.createContext({}),{Provider:Pi}=Et,us=()=>{const{autoFocusButton:e,cancelButtonProps:t,cancelTextLocale:n,isSilent:r,mergedOkCancel:i,rootPrefixCls:a,close:o,onCancel:l,onConfirm:s}=h.useContext(Et);return i?X.createElement($i,{isSilent:r,actionFn:l,close:function(){o==null||o.apply(void 0,arguments),s==null||s(!1)},autoFocus:e==="cancel",buttonProps:t,prefixCls:`${a}-btn`},n):null},_r=us,fs=()=>{const{autoFocusButton:e,close:t,isSilent:n,okButtonProps:r,rootPrefixCls:i,okTextLocale:a,okType:o,onConfirm:l,onOk:s}=h.useContext(Et);return X.createElement($i,{isSilent:n,type:o||"primary",actionFn:s,close:function(){t==null||t.apply(void 0,arguments),l==null||l(!0)},autoFocus:e==="ok",buttonProps:r,prefixCls:`${i}-btn`},a)},Er=fs;var Si=h.createContext({});function Fr(e,t,n){var r=t;return!r&&n&&(r="".concat(e,"-").concat(n)),r}function $r(e,t){var n=e["page".concat(t?"Y":"X","Offset")],r="scroll".concat(t?"Top":"Left");if(typeof n!="number"){var i=e.document;n=i.documentElement[r],typeof n!="number"&&(n=i.body[r])}return n}function ds(e){var t=e.getBoundingClientRect(),n={left:t.left,top:t.top},r=e.ownerDocument,i=r.defaultView||r.parentWindow;return n.left+=$r(i),n.top+=$r(i,!0),n}const hs=h.memo(function(e){var t=e.children;return t},function(e,t){var n=t.shouldUpdate;return!n});var Pr={width:0,height:0,overflow:"hidden",outline:"none"},Ni=X.forwardRef(function(e,t){var n=e.prefixCls,r=e.className,i=e.style,a=e.title,o=e.ariaId,l=e.footer,s=e.closable,c=e.closeIcon,u=e.onClose,d=e.children,f=e.bodyStyle,p=e.bodyProps,b=e.modalRender,v=e.onMouseDown,w=e.onMouseUp,g=e.holderRef,x=e.visible,C=e.forceRender,y=e.width,$=e.height,F=e.classNames,S=e.styles,R=X.useContext(Si),N=R.panel,O=Wa(g,N),T=h.useRef(),L=h.useRef();X.useImperativeHandle(t,function(){return{focus:function(){var A;(A=T.current)===null||A===void 0||A.focus()},changeActive:function(A){var I=document,j=I.activeElement;A&&j===L.current?T.current.focus():!A&&j===T.current&&L.current.focus()}}});var z={};y!==void 0&&(z.width=y),$!==void 0&&(z.height=$);var m;l&&(m=X.createElement("div",{className:Z("".concat(n,"-footer"),F==null?void 0:F.footer),style:D({},S==null?void 0:S.footer)},l));var P;a&&(P=X.createElement("div",{className:Z("".concat(n,"-header"),F==null?void 0:F.header),style:D({},S==null?void 0:S.header)},X.createElement("div",{className:"".concat(n,"-title"),id:o},a)));var _;s&&(_=X.createElement("button",{type:"button",onClick:u,"aria-label":"Close",className:"".concat(n,"-close")},c||X.createElement("span",{className:"".concat(n,"-close-x")})));var E=X.createElement("div",{className:Z("".concat(n,"-content"),F==null?void 0:F.content),style:S==null?void 0:S.content},_,P,X.createElement("div",se({className:Z("".concat(n,"-body"),F==null?void 0:F.body),style:D(D({},f),S==null?void 0:S.body)},p),d),m);return X.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":a?o:null,"aria-modal":"true",ref:O,style:D(D({},i),z),className:Z(n,r),onMouseDown:v,onMouseUp:w},X.createElement("div",{tabIndex:0,ref:T,style:Pr,"aria-hidden":"true"}),X.createElement(hs,{shouldUpdate:x||C},b?b(E):E),X.createElement("div",{tabIndex:0,ref:L,style:Pr,"aria-hidden":"true"}))}),Oi=h.forwardRef(function(e,t){var n=e.prefixCls,r=e.title,i=e.style,a=e.className,o=e.visible,l=e.forceRender,s=e.destroyOnClose,c=e.motionName,u=e.ariaId,d=e.onVisibleChanged,f=e.mousePosition,p=h.useRef(),b=h.useState(),v=le(b,2),w=v[0],g=v[1],x={};w&&(x.transformOrigin=w);function C(){var y=ds(p.current);g(f?"".concat(f.x-y.left,"px ").concat(f.y-y.top,"px"):"")}return h.createElement(fi,{visible:o,onVisibleChanged:d,onAppearPrepare:C,onEnterPrepare:C,forceRender:l,motionName:c,removeOnLeave:s,ref:p},function(y,$){var F=y.className,S=y.style;return h.createElement(Ni,se({},e,{ref:t,title:r,ariaId:u,prefixCls:n,holderRef:$,style:D(D(D({},S),i),x),className:Z(a,F)}))})});Oi.displayName="Content";function ms(e){var t=e.prefixCls,n=e.style,r=e.visible,i=e.maskProps,a=e.motionName,o=e.className;return h.createElement(fi,{key:"mask",visible:r,motionName:a,leavedClassName:"".concat(t,"-mask-hidden")},function(l,s){var c=l.className,u=l.style;return h.createElement("div",se({ref:s,style:D(D({},u),n),className:Z("".concat(t,"-mask"),c,o)},i))})}function gs(e){var t=e.prefixCls,n=t===void 0?"rc-dialog":t,r=e.zIndex,i=e.visible,a=i===void 0?!1:i,o=e.keyboard,l=o===void 0?!0:o,s=e.focusTriggerAfterClose,c=s===void 0?!0:s,u=e.wrapStyle,d=e.wrapClassName,f=e.wrapProps,p=e.onClose,b=e.afterOpenChange,v=e.afterClose,w=e.transitionName,g=e.animation,x=e.closable,C=x===void 0?!0:x,y=e.mask,$=y===void 0?!0:y,F=e.maskTransitionName,S=e.maskAnimation,R=e.maskClosable,N=R===void 0?!0:R,O=e.maskStyle,T=e.maskProps,L=e.rootClassName,z=e.classNames,m=e.styles,P=h.useRef(),_=h.useRef(),E=h.useRef(),k=h.useState(a),A=le(k,2),I=A[0],j=A[1],V=ro();function B(){gr(_.current,document.activeElement)||(P.current=document.activeElement)}function H(){if(!gr(_.current,document.activeElement)){var ee;(ee=E.current)===null||ee===void 0||ee.focus()}}function Q(ee){if(ee)H();else{if(j(!1),$&&P.current&&c){try{P.current.focus({preventScroll:!0})}catch{}P.current=null}I&&(v==null||v())}b==null||b(ee)}function J(ee){p==null||p(ee)}var G=h.useRef(!1),re=h.useRef(),de=function(){clearTimeout(re.current),G.current=!0},Te=function(){re.current=setTimeout(function(){G.current=!1})},$e=null;N&&($e=function(Me){G.current?G.current=!1:_.current===Me.target&&J(Me)});function rt(ee){if(l&&ee.keyCode===$n.ESC){ee.stopPropagation(),J(ee);return}a&&ee.keyCode===$n.TAB&&E.current.changeActive(!ee.shiftKey)}return h.useEffect(function(){a&&(j(!0),B())},[a]),h.useEffect(function(){return function(){clearTimeout(re.current)}},[]),h.createElement("div",se({className:Z("".concat(n,"-root"),L)},jo(e,{data:!0})),h.createElement(ms,{prefixCls:n,visible:$&&a,motionName:Fr(n,F,S),style:D(D({zIndex:r},O),m==null?void 0:m.mask),maskProps:T,className:z==null?void 0:z.mask}),h.createElement("div",se({tabIndex:-1,onKeyDown:rt,className:Z("".concat(n,"-wrap"),d,z==null?void 0:z.wrapper),ref:_,onClick:$e,style:D(D(D({zIndex:r},u),m==null?void 0:m.wrapper),{},{display:I?null:"none"})},f),h.createElement(Oi,se({},e,{onMouseDown:de,onMouseUp:Te,ref:E,closable:C,ariaId:V,prefixCls:n,visible:a&&I,onClose:J,onVisibleChanged:Q,motionName:Fr(n,w,g)}))))}var Ti=function(t){var n=t.visible,r=t.getContainer,i=t.forceRender,a=t.destroyOnClose,o=a===void 0?!1:a,l=t.afterClose,s=t.panelRef,c=h.useState(n),u=le(c,2),d=u[0],f=u[1],p=h.useMemo(function(){return{panel:s}},[s]);return h.useEffect(function(){n&&f(!0)},[n]),!i&&o&&!d?null:h.createElement(Si.Provider,{value:p},h.createElement(io,{open:n||i||d,autoDestroy:!1,getContainer:r,autoLock:n||d},h.createElement(gs,se({},t,{destroyOnClose:o,afterClose:function(){l==null||l(),f(!1)}}))))};Ti.displayName="Dialog";function ps(e,t,n){return typeof e=="boolean"?e:t===void 0?!!n:t!==!1&&t!==null}function vs(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:X.createElement(an,null),i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(!ps(e,t,i))return[!1,null];const o=typeof t=="boolean"||t===void 0||t===null?r:t;return[!0,n?n(o):o]}const ys=()=>La()&&window.document.documentElement;var Le="RC_FORM_INTERNAL_HOOKS",K=function(){Ae(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},et=h.createContext({getFieldValue:K,getFieldsValue:K,getFieldError:K,getFieldWarning:K,getFieldsError:K,isFieldsTouched:K,isFieldTouched:K,isFieldValidating:K,isFieldsValidating:K,resetFields:K,setFields:K,setFieldValue:K,setFieldsValue:K,validateFields:K,submit:K,getInternalHooks:function(){return K(),{dispatch:K,initEntityValue:K,registerField:K,useSubscribe:K,setInitialValues:K,destroyForm:K,setCallbacks:K,registerWatch:K,getFields:K,setValidateMessages:K,setPreserve:K,getInitialValue:K}}}),Ut=h.createContext(null);function Pn(e){return e==null?[]:Array.isArray(e)?e:[e]}function xs(e){return e&&!!e._init}function ze(){return ze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ze.apply(this,arguments)}function ws(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,mt(e,t)}function Sn(e){return Sn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sn(e)}function mt(e,t){return mt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mt(e,t)}function bs(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Lt(e,t,n){return bs()?Lt=Reflect.construct.bind():Lt=function(i,a,o){var l=[null];l.push.apply(l,a);var s=Function.bind.apply(i,l),c=new s;return o&&mt(c,o.prototype),c},Lt.apply(null,arguments)}function Cs(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function Nn(e){var t=typeof Map=="function"?new Map:void 0;return Nn=function(r){if(r===null||!Cs(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,i)}function i(){return Lt(r,arguments,Sn(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),mt(i,r)},Nn(e)}var _s=/%[sdj%]/g,Es=function(){};function On(e){if(!e||!e.length)return null;var t={};return e.forEach(function(n){var r=n.field;t[r]=t[r]||[],t[r].push(n)}),t}function me(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,a=n.length;if(typeof e=="function")return e.apply(null,n);if(typeof e=="string"){var o=e.replace(_s,function(l){if(l==="%%")return"%";if(i>=a)return l;switch(l){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch{return"[Circular]"}break;default:return l}});return o}return e}function Fs(e){return e==="string"||e==="url"||e==="hex"||e==="email"||e==="date"||e==="pattern"}function ae(e,t){return!!(e==null||t==="array"&&Array.isArray(e)&&!e.length||Fs(t)&&typeof e=="string"&&!e)}function $s(e,t,n){var r=[],i=0,a=e.length;function o(l){r.push.apply(r,l||[]),i++,i===a&&n(r)}e.forEach(function(l){t(l,o)})}function Sr(e,t,n){var r=0,i=e.length;function a(o){if(o&&o.length){n(o);return}var l=r;r=r+1,l<i?t(e[l],a):n([])}a([])}function Ps(e){var t=[];return Object.keys(e).forEach(function(n){t.push.apply(t,e[n]||[])}),t}var Nr=function(e){ws(t,e);function t(n,r){var i;return i=e.call(this,"Async Validation Error")||this,i.errors=n,i.fields=r,i}return t}(Nn(Error));function Ss(e,t,n,r,i){if(t.first){var a=new Promise(function(f,p){var b=function(g){return r(g),g.length?p(new Nr(g,On(g))):f(i)},v=Ps(e);Sr(v,n,b)});return a.catch(function(f){return f}),a}var o=t.firstFields===!0?Object.keys(e):t.firstFields||[],l=Object.keys(e),s=l.length,c=0,u=[],d=new Promise(function(f,p){var b=function(w){if(u.push.apply(u,w),c++,c===s)return r(u),u.length?p(new Nr(u,On(u))):f(i)};l.length||(r(u),f(i)),l.forEach(function(v){var w=e[v];o.indexOf(v)!==-1?Sr(w,n,b):$s(w,n,b)})});return d.catch(function(f){return f}),d}function Ns(e){return!!(e&&e.message!==void 0)}function Os(e,t){for(var n=e,r=0;r<t.length;r++){if(n==null)return n;n=n[t[r]]}return n}function Or(e,t){return function(n){var r;return e.fullFields?r=Os(t,e.fullFields):r=t[n.field||e.fullField],Ns(n)?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:typeof n=="function"?n():n,fieldValue:r,field:n.field||e.fullField}}}function Tr(e,t){if(t){for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];typeof r=="object"&&typeof e[n]=="object"?e[n]=ze({},e[n],r):e[n]=r}}return e}var Mi=function(t,n,r,i,a,o){t.required&&(!r.hasOwnProperty(t.field)||ae(n,o||t.type))&&i.push(me(a.messages.required,t.fullField))},Ts=function(t,n,r,i,a){(/^\s+$/.test(n)||n==="")&&i.push(me(a.messages.whitespace,t.fullField))},Tt,Ms=function(){if(Tt)return Tt;var e="[a-fA-F\\d:]",t=function(y){return y&&y.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",i=(`
(?:
(?:`+r+":){7}(?:"+r+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+r+":){6}(?:"+n+"|:"+r+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+r+":){5}(?::"+n+"|(?::"+r+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+r+":){4}(?:(?::"+r+"){0,1}:"+n+"|(?::"+r+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+r+":){3}(?:(?::"+r+"){0,2}:"+n+"|(?::"+r+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+r+":){2}(?:(?::"+r+"){0,3}:"+n+"|(?::"+r+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+r+":){1}(?:(?::"+r+"){0,4}:"+n+"|(?::"+r+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+r+"){0,5}:"+n+"|(?::"+r+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),a=new RegExp("(?:^"+n+"$)|(?:^"+i+"$)"),o=new RegExp("^"+n+"$"),l=new RegExp("^"+i+"$"),s=function(y){return y&&y.exact?a:new RegExp("(?:"+t(y)+n+t(y)+")|(?:"+t(y)+i+t(y)+")","g")};s.v4=function(C){return C&&C.exact?o:new RegExp(""+t(C)+n+t(C),"g")},s.v6=function(C){return C&&C.exact?l:new RegExp(""+t(C)+i+t(C),"g")};var c="(?:(?:[a-z]+:)?//)",u="(?:\\S+(?::\\S*)?@)?",d=s.v4().source,f=s.v6().source,p="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",b="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",v="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",w="(?::\\d{2,5})?",g='(?:[/?#][^\\s"]*)?',x="(?:"+c+"|www\\.)"+u+"(?:localhost|"+d+"|"+f+"|"+p+b+v+")"+w+g;return Tt=new RegExp("(?:^"+x+"$)","i"),Tt},Mr={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},ct={integer:function(t){return ct.number(t)&&parseInt(t,10)===t},float:function(t){return ct.number(t)&&!ct.integer(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch{return!1}},date:function(t){return typeof t.getTime=="function"&&typeof t.getMonth=="function"&&typeof t.getYear=="function"&&!isNaN(t.getTime())},number:function(t){return isNaN(t)?!1:typeof t=="number"},object:function(t){return typeof t=="object"&&!ct.array(t)},method:function(t){return typeof t=="function"},email:function(t){return typeof t=="string"&&t.length<=320&&!!t.match(Mr.email)},url:function(t){return typeof t=="string"&&t.length<=2048&&!!t.match(Ms())},hex:function(t){return typeof t=="string"&&!!t.match(Mr.hex)}},ks=function(t,n,r,i,a){if(t.required&&n===void 0){Mi(t,n,r,i,a);return}var o=["integer","float","array","regexp","object","method","email","number","date","url","hex"],l=t.type;o.indexOf(l)>-1?ct[l](n)||i.push(me(a.messages.types[l],t.fullField,t.type)):l&&typeof n!==t.type&&i.push(me(a.messages.types[l],t.fullField,t.type))},Rs=function(t,n,r,i,a){var o=typeof t.len=="number",l=typeof t.min=="number",s=typeof t.max=="number",c=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=n,d=null,f=typeof n=="number",p=typeof n=="string",b=Array.isArray(n);if(f?d="number":p?d="string":b&&(d="array"),!d)return!1;b&&(u=n.length),p&&(u=n.replace(c,"_").length),o?u!==t.len&&i.push(me(a.messages[d].len,t.fullField,t.len)):l&&!s&&u<t.min?i.push(me(a.messages[d].min,t.fullField,t.min)):s&&!l&&u>t.max?i.push(me(a.messages[d].max,t.fullField,t.max)):l&&s&&(u<t.min||u>t.max)&&i.push(me(a.messages[d].range,t.fullField,t.min,t.max))},Ye="enum",As=function(t,n,r,i,a){t[Ye]=Array.isArray(t[Ye])?t[Ye]:[],t[Ye].indexOf(n)===-1&&i.push(me(a.messages[Ye],t.fullField,t[Ye].join(", ")))},Is=function(t,n,r,i,a){if(t.pattern){if(t.pattern instanceof RegExp)t.pattern.lastIndex=0,t.pattern.test(n)||i.push(me(a.messages.pattern.mismatch,t.fullField,n,t.pattern));else if(typeof t.pattern=="string"){var o=new RegExp(t.pattern);o.test(n)||i.push(me(a.messages.pattern.mismatch,t.fullField,n,t.pattern))}}},W={required:Mi,whitespace:Ts,type:ks,range:Rs,enum:As,pattern:Is},Vs=function(t,n,r,i,a){var o=[],l=t.required||!t.required&&i.hasOwnProperty(t.field);if(l){if(ae(n,"string")&&!t.required)return r();W.required(t,n,i,o,a,"string"),ae(n,"string")||(W.type(t,n,i,o,a),W.range(t,n,i,o,a),W.pattern(t,n,i,o,a),t.whitespace===!0&&W.whitespace(t,n,i,o,a))}r(o)},js=function(t,n,r,i,a){var o=[],l=t.required||!t.required&&i.hasOwnProperty(t.field);if(l){if(ae(n)&&!t.required)return r();W.required(t,n,i,o,a),n!==void 0&&W.type(t,n,i,o,a)}r(o)},Ls=function(t,n,r,i,a){var o=[],l=t.required||!t.required&&i.hasOwnProperty(t.field);if(l){if(n===""&&(n=void 0),ae(n)&&!t.required)return r();W.required(t,n,i,o,a),n!==void 0&&(W.type(t,n,i,o,a),W.range(t,n,i,o,a))}r(o)},zs=function(t,n,r,i,a){var o=[],l=t.required||!t.required&&i.hasOwnProperty(t.field);if(l){if(ae(n)&&!t.required)return r();W.required(t,n,i,o,a),n!==void 0&&W.type(t,n,i,o,a)}r(o)},Ds=function(t,n,r,i,a){var o=[],l=t.required||!t.required&&i.hasOwnProperty(t.field);if(l){if(ae(n)&&!t.required)return r();W.required(t,n,i,o,a),ae(n)||W.type(t,n,i,o,a)}r(o)},Bs=function(t,n,r,i,a){var o=[],l=t.required||!t.required&&i.hasOwnProperty(t.field);if(l){if(ae(n)&&!t.required)return r();W.required(t,n,i,o,a),n!==void 0&&(W.type(t,n,i,o,a),W.range(t,n,i,o,a))}r(o)},qs=function(t,n,r,i,a){var o=[],l=t.required||!t.required&&i.hasOwnProperty(t.field);if(l){if(ae(n)&&!t.required)return r();W.required(t,n,i,o,a),n!==void 0&&(W.type(t,n,i,o,a),W.range(t,n,i,o,a))}r(o)},Hs=function(t,n,r,i,a){var o=[],l=t.required||!t.required&&i.hasOwnProperty(t.field);if(l){if(n==null&&!t.required)return r();W.required(t,n,i,o,a,"array"),n!=null&&(W.type(t,n,i,o,a),W.range(t,n,i,o,a))}r(o)},Ws=function(t,n,r,i,a){var o=[],l=t.required||!t.required&&i.hasOwnProperty(t.field);if(l){if(ae(n)&&!t.required)return r();W.required(t,n,i,o,a),n!==void 0&&W.type(t,n,i,o,a)}r(o)},Us="enum",Xs=function(t,n,r,i,a){var o=[],l=t.required||!t.required&&i.hasOwnProperty(t.field);if(l){if(ae(n)&&!t.required)return r();W.required(t,n,i,o,a),n!==void 0&&W[Us](t,n,i,o,a)}r(o)},Ys=function(t,n,r,i,a){var o=[],l=t.required||!t.required&&i.hasOwnProperty(t.field);if(l){if(ae(n,"string")&&!t.required)return r();W.required(t,n,i,o,a),ae(n,"string")||W.pattern(t,n,i,o,a)}r(o)},Gs=function(t,n,r,i,a){var o=[],l=t.required||!t.required&&i.hasOwnProperty(t.field);if(l){if(ae(n,"date")&&!t.required)return r();if(W.required(t,n,i,o,a),!ae(n,"date")){var s;n instanceof Date?s=n:s=new Date(n),W.type(t,s,i,o,a),s&&W.range(t,s.getTime(),i,o,a)}}r(o)},Ks=function(t,n,r,i,a){var o=[],l=Array.isArray(n)?"array":typeof n;W.required(t,n,i,o,a,l),r(o)},vn=function(t,n,r,i,a){var o=t.type,l=[],s=t.required||!t.required&&i.hasOwnProperty(t.field);if(s){if(ae(n,o)&&!t.required)return r();W.required(t,n,i,l,a,o),ae(n,o)||W.type(t,n,i,l,a)}r(l)},Zs=function(t,n,r,i,a){var o=[],l=t.required||!t.required&&i.hasOwnProperty(t.field);if(l){if(ae(n)&&!t.required)return r();W.required(t,n,i,o,a)}r(o)},dt={string:Vs,method:js,number:Ls,boolean:zs,regexp:Ds,integer:Bs,float:qs,array:Hs,object:Ws,enum:Xs,pattern:Ys,date:Gs,url:vn,hex:vn,email:vn,required:Ks,any:Zs};function Tn(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}var Mn=Tn(),Ft=function(){function e(n){this.rules=null,this._messages=Mn,this.define(n)}var t=e.prototype;return t.define=function(r){var i=this;if(!r)throw new Error("Cannot configure a schema with no rules");if(typeof r!="object"||Array.isArray(r))throw new Error("Rules must be an object");this.rules={},Object.keys(r).forEach(function(a){var o=r[a];i.rules[a]=Array.isArray(o)?o:[o]})},t.messages=function(r){return r&&(this._messages=Tr(Tn(),r)),this._messages},t.validate=function(r,i,a){var o=this;i===void 0&&(i={}),a===void 0&&(a=function(){});var l=r,s=i,c=a;if(typeof s=="function"&&(c=s,s={}),!this.rules||Object.keys(this.rules).length===0)return c&&c(null,l),Promise.resolve(l);function u(v){var w=[],g={};function x(y){if(Array.isArray(y)){var $;w=($=w).concat.apply($,y)}else w.push(y)}for(var C=0;C<v.length;C++)x(v[C]);w.length?(g=On(w),c(w,g)):c(null,l)}if(s.messages){var d=this.messages();d===Mn&&(d=Tn()),Tr(d,s.messages),s.messages=d}else s.messages=this.messages();var f={},p=s.keys||Object.keys(this.rules);p.forEach(function(v){var w=o.rules[v],g=l[v];w.forEach(function(x){var C=x;typeof C.transform=="function"&&(l===r&&(l=ze({},l)),g=l[v]=C.transform(g)),typeof C=="function"?C={validator:C}:C=ze({},C),C.validator=o.getValidationMethod(C),C.validator&&(C.field=v,C.fullField=C.fullField||v,C.type=o.getType(C),f[v]=f[v]||[],f[v].push({rule:C,value:g,source:l,field:v}))})});var b={};return Ss(f,s,function(v,w){var g=v.rule,x=(g.type==="object"||g.type==="array")&&(typeof g.fields=="object"||typeof g.defaultField=="object");x=x&&(g.required||!g.required&&v.value),g.field=v.field;function C(F,S){return ze({},S,{fullField:g.fullField+"."+F,fullFields:g.fullFields?[].concat(g.fullFields,[F]):[F]})}function y(F){F===void 0&&(F=[]);var S=Array.isArray(F)?F:[F];!s.suppressWarning&&S.length&&e.warning("async-validator:",S),S.length&&g.message!==void 0&&(S=[].concat(g.message));var R=S.map(Or(g,l));if(s.first&&R.length)return b[g.field]=1,w(R);if(!x)w(R);else{if(g.required&&!v.value)return g.message!==void 0?R=[].concat(g.message).map(Or(g,l)):s.error&&(R=[s.error(g,me(s.messages.required,g.field))]),w(R);var N={};g.defaultField&&Object.keys(v.value).map(function(L){N[L]=g.defaultField}),N=ze({},N,v.rule.fields);var O={};Object.keys(N).forEach(function(L){var z=N[L],m=Array.isArray(z)?z:[z];O[L]=m.map(C.bind(null,L))});var T=new e(O);T.messages(s.messages),v.rule.options&&(v.rule.options.messages=s.messages,v.rule.options.error=s.error),T.validate(v.value,v.rule.options||s,function(L){var z=[];R&&R.length&&z.push.apply(z,R),L&&L.length&&z.push.apply(z,L),w(z.length?z:null)})}}var $;if(g.asyncValidator)$=g.asyncValidator(g,v.value,y,v.source,s);else if(g.validator){try{$=g.validator(g,v.value,y,v.source,s)}catch(F){console.error==null||console.error(F),s.suppressValidatorError||setTimeout(function(){throw F},0),y(F.message)}$===!0?y():$===!1?y(typeof g.message=="function"?g.message(g.fullField||g.field):g.message||(g.fullField||g.field)+" fails"):$ instanceof Array?y($):$ instanceof Error&&y($.message)}$&&$.then&&$.then(function(){return y()},function(F){return y(F)})},function(v){u(v)},l)},t.getType=function(r){if(r.type===void 0&&r.pattern instanceof RegExp&&(r.type="pattern"),typeof r.validator!="function"&&r.type&&!dt.hasOwnProperty(r.type))throw new Error(me("Unknown rule type %s",r.type));return r.type||"string"},t.getValidationMethod=function(r){if(typeof r.validator=="function")return r.validator;var i=Object.keys(r),a=i.indexOf("message");return a!==-1&&i.splice(a,1),i.length===1&&i[0]==="required"?dt.required:dt[this.getType(r)]||void 0},e}();Ft.register=function(t,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");dt[t]=n};Ft.warning=Es;Ft.messages=Mn;Ft.validators=dt;var he="'${name}' is not a valid ${type}",ki={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:he,method:he,array:he,object:he,number:he,date:he,boolean:he,integer:he,float:he,regexp:he,email:he,url:he,hex:he},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},kr=Ft;function Qs(e,t){return e.replace(/\$\{\w+\}/g,function(n){var r=n.slice(2,-1);return t[r]})}var Rr="CODE_LOGIC_ERROR";function kn(e,t,n,r,i){return Rn.apply(this,arguments)}function Rn(){return Rn=_t(Ee().mark(function e(t,n,r,i,a){var o,l,s,c,u,d,f,p,b;return Ee().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return o=D({},r),delete o.ruleIndex,kr.warning=function(){},o.validator&&(l=o.validator,o.validator=function(){try{return l.apply(void 0,arguments)}catch(g){return console.error(g),Promise.reject(Rr)}}),s=null,o&&o.type==="array"&&o.defaultField&&(s=o.defaultField,delete o.defaultField),c=new kr(M({},t,[o])),u=lt(ki,i.validateMessages),c.messages(u),d=[],w.prev=10,w.next=13,Promise.resolve(c.validate(M({},t,n),D({},i)));case 13:w.next=18;break;case 15:w.prev=15,w.t0=w.catch(10),w.t0.errors&&(d=w.t0.errors.map(function(g,x){var C=g.message,y=C===Rr?u.default:C;return h.isValidElement(y)?h.cloneElement(y,{key:"error_".concat(x)}):y}));case 18:if(!(!d.length&&s)){w.next=23;break}return w.next=21,Promise.all(n.map(function(g,x){return kn("".concat(t,".").concat(x),g,s,i,a)}));case 21:return f=w.sent,w.abrupt("return",f.reduce(function(g,x){return[].concat(q(g),q(x))},[]));case 23:return p=D(D({},r),{},{name:t,enum:(r.enum||[]).join(", ")},a),b=d.map(function(g){return typeof g=="string"?Qs(g,p):g}),w.abrupt("return",b);case 26:case"end":return w.stop()}},e,null,[[10,15]])})),Rn.apply(this,arguments)}function Js(e,t,n,r,i,a){var o=e.join("."),l=n.map(function(u,d){var f=u.validator,p=D(D({},u),{},{ruleIndex:d});return f&&(p.validator=function(b,v,w){var g=!1,x=function(){for(var $=arguments.length,F=new Array($),S=0;S<$;S++)F[S]=arguments[S];Promise.resolve().then(function(){Ae(!g,"Your validator function has already return a promise. `callback` will be ignored."),g||w.apply(void 0,F)})},C=f(b,v,x);g=C&&typeof C.then=="function"&&typeof C.catch=="function",Ae(g,"`callback` is deprecated. Please return a promise instead."),g&&C.then(function(){w()}).catch(function(y){w(y||" ")})}),p}).sort(function(u,d){var f=u.warningOnly,p=u.ruleIndex,b=d.warningOnly,v=d.ruleIndex;return!!f==!!b?p-v:f?1:-1}),s;if(i===!0)s=new Promise(function(){var u=_t(Ee().mark(function d(f,p){var b,v,w;return Ee().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:b=0;case 1:if(!(b<l.length)){x.next=12;break}return v=l[b],x.next=5,kn(o,t,v,r,a);case 5:if(w=x.sent,!w.length){x.next=9;break}return p([{errors:w,rule:v}]),x.abrupt("return");case 9:b+=1,x.next=1;break;case 12:f([]);case 13:case"end":return x.stop()}},d)}));return function(d,f){return u.apply(this,arguments)}}());else{var c=l.map(function(u){return kn(o,t,u,r,a).then(function(d){return{errors:d,rule:u}})});s=(i?tl(c):el(c)).then(function(u){return Promise.reject(u)})}return s.catch(function(u){return u}),s}function el(e){return An.apply(this,arguments)}function An(){return An=_t(Ee().mark(function e(t){return Ee().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.all(t).then(function(i){var a,o=(a=[]).concat.apply(a,q(i));return o}));case 1:case"end":return r.stop()}},e)})),An.apply(this,arguments)}function tl(e){return In.apply(this,arguments)}function In(){return In=_t(Ee().mark(function e(t){var n;return Ee().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=0,i.abrupt("return",new Promise(function(a){t.forEach(function(o){o.then(function(l){l.errors.length&&a([l]),n+=1,n===t.length&&a([])})})}));case 2:case"end":return i.stop()}},e)})),In.apply(this,arguments)}function te(e){return Pn(e)}function Ar(e,t){var n={};return t.forEach(function(r){var i=je(e,r);n=ke(n,r,i)}),n}function Ke(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return e&&e.some(function(r){return Ri(t,r,n)})}function Ri(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!e||!t||!n&&e.length!==t.length?!1:t.every(function(r,i){return e[i]===r})}function nl(e,t){if(e===t)return!0;if(!e&&t||e&&!t||!e||!t||Je(e)!=="object"||Je(t)!=="object")return!1;var n=Object.keys(e),r=Object.keys(t),i=new Set([].concat(n,r));return q(i).every(function(a){var o=e[a],l=t[a];return typeof o=="function"&&typeof l=="function"?!0:o===l})}function rl(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&Je(t.target)==="object"&&e in t.target?t.target[e]:t}function Ir(e,t,n){var r=e.length;if(t<0||t>=r||n<0||n>=r)return e;var i=e[t],a=t-n;return a>0?[].concat(q(e.slice(0,n)),[i],q(e.slice(n,t)),q(e.slice(t+1,r))):a<0?[].concat(q(e.slice(0,t)),q(e.slice(t+1,n+1)),[i],q(e.slice(n+1,r))):e}var il=["name"],ve=[];function Vr(e,t,n,r,i,a){return typeof e=="function"?e(t,n,"source"in a?{source:a.source}:{}):r!==i}var ar=function(e){Ua(n,e);var t=Xa(n);function n(r){var i;if(Qn(this,n),i=t.call(this,r),M(Y(i),"state",{resetCount:0}),M(Y(i),"cancelRegisterFunc",null),M(Y(i),"mounted",!1),M(Y(i),"touched",!1),M(Y(i),"dirty",!1),M(Y(i),"validatePromise",void 0),M(Y(i),"prevValidating",void 0),M(Y(i),"errors",ve),M(Y(i),"warnings",ve),M(Y(i),"cancelRegister",function(){var s=i.props,c=s.preserve,u=s.isListField,d=s.name;i.cancelRegisterFunc&&i.cancelRegisterFunc(u,c,te(d)),i.cancelRegisterFunc=null}),M(Y(i),"getNamePath",function(){var s=i.props,c=s.name,u=s.fieldContext,d=u.prefixName,f=d===void 0?[]:d;return c!==void 0?[].concat(q(f),q(c)):[]}),M(Y(i),"getRules",function(){var s=i.props,c=s.rules,u=c===void 0?[]:c,d=s.fieldContext;return u.map(function(f){return typeof f=="function"?f(d):f})}),M(Y(i),"refresh",function(){i.mounted&&i.setState(function(s){var c=s.resetCount;return{resetCount:c+1}})}),M(Y(i),"metaCache",null),M(Y(i),"triggerMetaEvent",function(s){var c=i.props.onMetaChange;if(c){var u=D(D({},i.getMeta()),{},{destroy:s});Ya(i.metaCache,u)||c(u),i.metaCache=u}else i.metaCache=null}),M(Y(i),"onStoreChange",function(s,c,u){var d=i.props,f=d.shouldUpdate,p=d.dependencies,b=p===void 0?[]:p,v=d.onReset,w=u.store,g=i.getNamePath(),x=i.getValue(s),C=i.getValue(w),y=c&&Ke(c,g);switch(u.type==="valueUpdate"&&u.source==="external"&&x!==C&&(i.touched=!0,i.dirty=!0,i.validatePromise=null,i.errors=ve,i.warnings=ve,i.triggerMetaEvent()),u.type){case"reset":if(!c||y){i.touched=!1,i.dirty=!1,i.validatePromise=void 0,i.errors=ve,i.warnings=ve,i.triggerMetaEvent(),v==null||v(),i.refresh();return}break;case"remove":{if(f){i.reRender();return}break}case"setField":{var $=u.data;if(y){"touched"in $&&(i.touched=$.touched),"validating"in $&&!("originRCField"in $)&&(i.validatePromise=$.validating?Promise.resolve([]):null),"errors"in $&&(i.errors=$.errors||ve),"warnings"in $&&(i.warnings=$.warnings||ve),i.dirty=!0,i.triggerMetaEvent(),i.reRender();return}else if("value"in $&&Ke(c,g,!0)){i.reRender();return}if(f&&!g.length&&Vr(f,s,w,x,C,u)){i.reRender();return}break}case"dependenciesUpdate":{var F=b.map(te);if(F.some(function(S){return Ke(u.relatedFields,S)})){i.reRender();return}break}default:if(y||(!b.length||g.length||f)&&Vr(f,s,w,x,C,u)){i.reRender();return}break}f===!0&&i.reRender()}),M(Y(i),"validateRules",function(s){var c=i.getNamePath(),u=i.getValue(),d=s||{},f=d.triggerName,p=d.validateOnly,b=p===void 0?!1:p,v=Promise.resolve().then(_t(Ee().mark(function w(){var g,x,C,y,$,F,S;return Ee().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:if(i.mounted){N.next=2;break}return N.abrupt("return",[]);case 2:if(g=i.props,x=g.validateFirst,C=x===void 0?!1:x,y=g.messageVariables,$=g.validateDebounce,F=i.getRules(),f&&(F=F.filter(function(O){return O}).filter(function(O){var T=O.validateTrigger;if(!T)return!0;var L=Pn(T);return L.includes(f)})),!($&&f)){N.next=10;break}return N.next=8,new Promise(function(O){setTimeout(O,$)});case 8:if(i.validatePromise===v){N.next=10;break}return N.abrupt("return",[]);case 10:return S=Js(c,u,F,s,C,y),S.catch(function(O){return O}).then(function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ve;if(i.validatePromise===v){var T;i.validatePromise=null;var L=[],z=[];(T=O.forEach)===null||T===void 0||T.call(O,function(m){var P=m.rule.warningOnly,_=m.errors,E=_===void 0?ve:_;P?z.push.apply(z,q(E)):L.push.apply(L,q(E))}),i.errors=L,i.warnings=z,i.triggerMetaEvent(),i.reRender()}}),N.abrupt("return",S);case 13:case"end":return N.stop()}},w)})));return b||(i.validatePromise=v,i.dirty=!0,i.errors=ve,i.warnings=ve,i.triggerMetaEvent(),i.reRender()),v}),M(Y(i),"isFieldValidating",function(){return!!i.validatePromise}),M(Y(i),"isFieldTouched",function(){return i.touched}),M(Y(i),"isFieldDirty",function(){if(i.dirty||i.props.initialValue!==void 0)return!0;var s=i.props.fieldContext,c=s.getInternalHooks(Le),u=c.getInitialValue;return u(i.getNamePath())!==void 0}),M(Y(i),"getErrors",function(){return i.errors}),M(Y(i),"getWarnings",function(){return i.warnings}),M(Y(i),"isListField",function(){return i.props.isListField}),M(Y(i),"isList",function(){return i.props.isList}),M(Y(i),"isPreserve",function(){return i.props.preserve}),M(Y(i),"getMeta",function(){i.prevValidating=i.isFieldValidating();var s={touched:i.isFieldTouched(),validating:i.prevValidating,errors:i.errors,warnings:i.warnings,name:i.getNamePath(),validated:i.validatePromise===null};return s}),M(Y(i),"getOnlyChild",function(s){if(typeof s=="function"){var c=i.getMeta();return D(D({},i.getOnlyChild(s(i.getControlled(),c,i.props.fieldContext))),{},{isFunction:!0})}var u=Ga(s);return u.length!==1||!h.isValidElement(u[0])?{child:u,isFunction:!1}:{child:u[0],isFunction:!1}}),M(Y(i),"getValue",function(s){var c=i.props.fieldContext.getFieldsValue,u=i.getNamePath();return je(s||c(!0),u)}),M(Y(i),"getControlled",function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=i.props,u=c.trigger,d=c.validateTrigger,f=c.getValueFromEvent,p=c.normalize,b=c.valuePropName,v=c.getValueProps,w=c.fieldContext,g=d!==void 0?d:w.validateTrigger,x=i.getNamePath(),C=w.getInternalHooks,y=w.getFieldsValue,$=C(Le),F=$.dispatch,S=i.getValue(),R=v||function(L){return M({},b,L)},N=s[u],O=D(D({},s),R(S));O[u]=function(){i.touched=!0,i.dirty=!0,i.triggerMetaEvent();for(var L,z=arguments.length,m=new Array(z),P=0;P<z;P++)m[P]=arguments[P];f?L=f.apply(void 0,m):L=rl.apply(void 0,[b].concat(m)),p&&(L=p(L,S,y(!0))),F({type:"updateValue",namePath:x,value:L}),N&&N.apply(void 0,m)};var T=Pn(g||[]);return T.forEach(function(L){var z=O[L];O[L]=function(){z&&z.apply(void 0,arguments);var m=i.props.rules;m&&m.length&&F({type:"validateField",namePath:x,triggerName:L})}}),O}),r.fieldContext){var a=r.fieldContext.getInternalHooks,o=a(Le),l=o.initEntityValue;l(Y(i))}return i}return Jn(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.shouldUpdate,o=i.fieldContext;if(this.mounted=!0,o){var l=o.getInternalHooks,s=l(Le),c=s.registerField;this.cancelRegisterFunc=c(this)}a===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var i=this.state.resetCount,a=this.props.children,o=this.getOnlyChild(a),l=o.child,s=o.isFunction,c;return s?c=l:h.isValidElement(l)?c=h.cloneElement(l,this.getControlled(l.props)):(Ae(!l,"`children` of Field is not validate ReactElement."),c=l),h.createElement(h.Fragment,{key:i},c)}}]),n}(h.Component);M(ar,"contextType",et);M(ar,"defaultProps",{trigger:"onChange",valuePropName:"value"});function Ai(e){var t=e.name,n=Ct(e,il),r=h.useContext(et),i=h.useContext(Ut),a=t!==void 0?te(t):void 0,o="keep";return n.isListField||(o="_".concat((a||[]).join("_"))),h.createElement(ar,se({key:o,name:a,isListField:!!i},n,{fieldContext:r}))}function al(e){var t=e.name,n=e.initialValue,r=e.children,i=e.rules,a=e.validateTrigger,o=e.isListField,l=h.useContext(et),s=h.useContext(Ut),c=h.useRef({keys:[],id:0}),u=c.current,d=h.useMemo(function(){var v=te(l.prefixName)||[];return[].concat(q(v),q(te(t)))},[l.prefixName,t]),f=h.useMemo(function(){return D(D({},l),{},{prefixName:d})},[l,d]),p=h.useMemo(function(){return{getKey:function(w){var g=d.length,x=w[g];return[u.keys[x],w.slice(g+1)]}}},[d]);if(typeof r!="function")return Ae(!1,"Form.List only accepts function as children."),null;var b=function(w,g,x){var C=x.source;return C==="internal"?!1:w!==g};return h.createElement(Ut.Provider,{value:p},h.createElement(et.Provider,{value:f},h.createElement(Ai,{name:[],shouldUpdate:b,rules:i,validateTrigger:a,initialValue:n,isList:!0,isListField:o??!!s},function(v,w){var g=v.value,x=g===void 0?[]:g,C=v.onChange,y=l.getFieldValue,$=function(){var N=y(d||[]);return N||[]},F={add:function(N,O){var T=$();O>=0&&O<=T.length?(u.keys=[].concat(q(u.keys.slice(0,O)),[u.id],q(u.keys.slice(O))),C([].concat(q(T.slice(0,O)),[N],q(T.slice(O))))):(u.keys=[].concat(q(u.keys),[u.id]),C([].concat(q(T),[N]))),u.id+=1},remove:function(N){var O=$(),T=new Set(Array.isArray(N)?N:[N]);T.size<=0||(u.keys=u.keys.filter(function(L,z){return!T.has(z)}),C(O.filter(function(L,z){return!T.has(z)})))},move:function(N,O){if(N!==O){var T=$();N<0||N>=T.length||O<0||O>=T.length||(u.keys=Ir(u.keys,N,O),C(Ir(T,N,O)))}}},S=x||[];return Array.isArray(S)||(S=[]),r(S.map(function(R,N){var O=u.keys[N];return O===void 0&&(u.keys[N]=u.id,O=u.keys[N],u.id+=1),{name:N,key:O,isListField:!0}}),F,w)})))}function ol(e){var t=!1,n=e.length,r=[];return e.length?new Promise(function(i,a){e.forEach(function(o,l){o.catch(function(s){return t=!0,s}).then(function(s){n-=1,r[l]=s,!(n>0)&&(t&&a(r),i(r))})})}):Promise.resolve([])}var Ii="__@field_split__";function yn(e){return e.map(function(t){return"".concat(Je(t),":").concat(t)}).join(Ii)}var Ge=function(){function e(){Qn(this,e),M(this,"kvs",new Map)}return Jn(e,[{key:"set",value:function(n,r){this.kvs.set(yn(n),r)}},{key:"get",value:function(n){return this.kvs.get(yn(n))}},{key:"update",value:function(n,r){var i=this.get(n),a=r(i);a?this.set(n,a):this.delete(n)}},{key:"delete",value:function(n){this.kvs.delete(yn(n))}},{key:"map",value:function(n){return q(this.kvs.entries()).map(function(r){var i=le(r,2),a=i[0],o=i[1],l=a.split(Ii);return n({key:l.map(function(s){var c=s.match(/^([^:]*):(.*)$/),u=le(c,3),d=u[1],f=u[2];return d==="number"?Number(f):f}),value:o})})}},{key:"toJSON",value:function(){var n={};return this.map(function(r){var i=r.key,a=r.value;return n[i.join(".")]=a,null}),n}}]),e}(),sl=["name"],ll=Jn(function e(t){var n=this;Qn(this,e),M(this,"formHooked",!1),M(this,"forceRootUpdate",void 0),M(this,"subscribable",!0),M(this,"store",{}),M(this,"fieldEntities",[]),M(this,"initialValues",{}),M(this,"callbacks",{}),M(this,"validateMessages",null),M(this,"preserve",null),M(this,"lastValidatePromise",null),M(this,"getForm",function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldValue:n.setFieldValue,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}}),M(this,"getInternalHooks",function(r){return r===Le?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):(Ae(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)}),M(this,"useSubscribe",function(r){n.subscribable=r}),M(this,"prevWithoutPreserves",null),M(this,"setInitialValues",function(r,i){if(n.initialValues=r||{},i){var a,o=lt(r,n.store);(a=n.prevWithoutPreserves)===null||a===void 0||a.map(function(l){var s=l.key;o=ke(o,s,je(r,s))}),n.prevWithoutPreserves=null,n.updateStore(o)}}),M(this,"destroyForm",function(){var r=new Ge;n.getFieldEntities(!0).forEach(function(i){n.isMergedPreserve(i.isPreserve())||r.set(i.getNamePath(),!0)}),n.prevWithoutPreserves=r}),M(this,"getInitialValue",function(r){var i=je(n.initialValues,r);return r.length?lt(i):i}),M(this,"setCallbacks",function(r){n.callbacks=r}),M(this,"setValidateMessages",function(r){n.validateMessages=r}),M(this,"setPreserve",function(r){n.preserve=r}),M(this,"watchList",[]),M(this,"registerWatch",function(r){return n.watchList.push(r),function(){n.watchList=n.watchList.filter(function(i){return i!==r})}}),M(this,"notifyWatch",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(n.watchList.length){var i=n.getFieldsValue(),a=n.getFieldsValue(!0);n.watchList.forEach(function(o){o(i,a,r)})}}),M(this,"timeoutId",null),M(this,"warningUnhooked",function(){}),M(this,"updateStore",function(r){n.store=r}),M(this,"getFieldEntities",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return r?n.fieldEntities.filter(function(i){return i.getNamePath().length}):n.fieldEntities}),M(this,"getFieldsMap",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=new Ge;return n.getFieldEntities(r).forEach(function(a){var o=a.getNamePath();i.set(o,a)}),i}),M(this,"getFieldEntitiesForNamePathList",function(r){if(!r)return n.getFieldEntities(!0);var i=n.getFieldsMap(!0);return r.map(function(a){var o=te(a);return i.get(o)||{INVALIDATE_NAME_PATH:te(a)}})}),M(this,"getFieldsValue",function(r,i){n.warningUnhooked();var a,o,l;if(r===!0||Array.isArray(r)?(a=r,o=i):r&&Je(r)==="object"&&(l=r.strict,o=r.filter),a===!0&&!o)return n.store;var s=n.getFieldEntitiesForNamePathList(Array.isArray(a)?a:null),c=[];return s.forEach(function(u){var d,f,p="INVALIDATE_NAME_PATH"in u?u.INVALIDATE_NAME_PATH:u.getNamePath();if(l){var b,v;if((b=(v=u).isList)!==null&&b!==void 0&&b.call(v))return}else if(!a&&(d=(f=u).isListField)!==null&&d!==void 0&&d.call(f))return;if(!o)c.push(p);else{var w="getMeta"in u?u.getMeta():null;o(w)&&c.push(p)}}),Ar(n.store,c.map(te))}),M(this,"getFieldValue",function(r){n.warningUnhooked();var i=te(r);return je(n.store,i)}),M(this,"getFieldsError",function(r){n.warningUnhooked();var i=n.getFieldEntitiesForNamePathList(r);return i.map(function(a,o){return a&&!("INVALIDATE_NAME_PATH"in a)?{name:a.getNamePath(),errors:a.getErrors(),warnings:a.getWarnings()}:{name:te(r[o]),errors:[],warnings:[]}})}),M(this,"getFieldError",function(r){n.warningUnhooked();var i=te(r),a=n.getFieldsError([i])[0];return a.errors}),M(this,"getFieldWarning",function(r){n.warningUnhooked();var i=te(r),a=n.getFieldsError([i])[0];return a.warnings}),M(this,"isFieldsTouched",function(){n.warningUnhooked();for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i[0],l=i[1],s,c=!1;i.length===0?s=null:i.length===1?Array.isArray(o)?(s=o.map(te),c=!1):(s=null,c=o):(s=o.map(te),c=l);var u=n.getFieldEntities(!0),d=function(w){return w.isFieldTouched()};if(!s)return c?u.every(d):u.some(d);var f=new Ge;s.forEach(function(v){f.set(v,[])}),u.forEach(function(v){var w=v.getNamePath();s.forEach(function(g){g.every(function(x,C){return w[C]===x})&&f.update(g,function(x){return[].concat(q(x),[v])})})});var p=function(w){return w.some(d)},b=f.map(function(v){var w=v.value;return w});return c?b.every(p):b.some(p)}),M(this,"isFieldTouched",function(r){return n.warningUnhooked(),n.isFieldsTouched([r])}),M(this,"isFieldsValidating",function(r){n.warningUnhooked();var i=n.getFieldEntities();if(!r)return i.some(function(o){return o.isFieldValidating()});var a=r.map(te);return i.some(function(o){var l=o.getNamePath();return Ke(a,l)&&o.isFieldValidating()})}),M(this,"isFieldValidating",function(r){return n.warningUnhooked(),n.isFieldsValidating([r])}),M(this,"resetWithFieldInitialValue",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=new Ge,a=n.getFieldEntities(!0);a.forEach(function(s){var c=s.props.initialValue,u=s.getNamePath();if(c!==void 0){var d=i.get(u)||new Set;d.add({entity:s,value:c}),i.set(u,d)}});var o=function(c){c.forEach(function(u){var d=u.props.initialValue;if(d!==void 0){var f=u.getNamePath(),p=n.getInitialValue(f);if(p!==void 0)Ae(!1,"Form already set 'initialValues' with path '".concat(f.join("."),"'. Field can not overwrite it."));else{var b=i.get(f);if(b&&b.size>1)Ae(!1,"Multiple Field with path '".concat(f.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(b){var v=n.getFieldValue(f),w=u.isListField();!w&&(!r.skipExist||v===void 0)&&n.updateStore(ke(n.store,f,q(b)[0].value))}}}})},l;r.entities?l=r.entities:r.namePathList?(l=[],r.namePathList.forEach(function(s){var c=i.get(s);if(c){var u;(u=l).push.apply(u,q(q(c).map(function(d){return d.entity})))}})):l=a,o(l)}),M(this,"resetFields",function(r){n.warningUnhooked();var i=n.store;if(!r){n.updateStore(lt(n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(i,null,{type:"reset"}),n.notifyWatch();return}var a=r.map(te);a.forEach(function(o){var l=n.getInitialValue(o);n.updateStore(ke(n.store,o,l))}),n.resetWithFieldInitialValue({namePathList:a}),n.notifyObservers(i,a,{type:"reset"}),n.notifyWatch(a)}),M(this,"setFields",function(r){n.warningUnhooked();var i=n.store,a=[];r.forEach(function(o){var l=o.name,s=Ct(o,sl),c=te(l);a.push(c),"value"in s&&n.updateStore(ke(n.store,c,s.value)),n.notifyObservers(i,[c],{type:"setField",data:o})}),n.notifyWatch(a)}),M(this,"getFields",function(){var r=n.getFieldEntities(!0),i=r.map(function(a){var o=a.getNamePath(),l=a.getMeta(),s=D(D({},l),{},{name:o,value:n.getFieldValue(o)});return Object.defineProperty(s,"originRCField",{value:!0}),s});return i}),M(this,"initEntityValue",function(r){var i=r.props.initialValue;if(i!==void 0){var a=r.getNamePath(),o=je(n.store,a);o===void 0&&n.updateStore(ke(n.store,a,i))}}),M(this,"isMergedPreserve",function(r){var i=r!==void 0?r:n.preserve;return i??!0}),M(this,"registerField",function(r){n.fieldEntities.push(r);var i=r.getNamePath();if(n.notifyWatch([i]),r.props.initialValue!==void 0){var a=n.store;n.resetWithFieldInitialValue({entities:[r],skipExist:!0}),n.notifyObservers(a,[r.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(o,l){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(n.fieldEntities=n.fieldEntities.filter(function(d){return d!==r}),!n.isMergedPreserve(l)&&(!o||s.length>1)){var c=o?void 0:n.getInitialValue(i);if(i.length&&n.getFieldValue(i)!==c&&n.fieldEntities.every(function(d){return!Ri(d.getNamePath(),i)})){var u=n.store;n.updateStore(ke(u,i,c,!0)),n.notifyObservers(u,[i],{type:"remove"}),n.triggerDependenciesUpdate(u,i)}}n.notifyWatch([i])}}),M(this,"dispatch",function(r){switch(r.type){case"updateValue":{var i=r.namePath,a=r.value;n.updateValue(i,a);break}case"validateField":{var o=r.namePath,l=r.triggerName;n.validateFields([o],{triggerName:l});break}}}),M(this,"notifyObservers",function(r,i,a){if(n.subscribable){var o=D(D({},a),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach(function(l){var s=l.onStoreChange;s(r,i,o)})}else n.forceRootUpdate()}),M(this,"triggerDependenciesUpdate",function(r,i){var a=n.getDependencyChildrenFields(i);return a.length&&n.validateFields(a),n.notifyObservers(r,a,{type:"dependenciesUpdate",relatedFields:[i].concat(q(a))}),a}),M(this,"updateValue",function(r,i){var a=te(r),o=n.store;n.updateStore(ke(n.store,a,i)),n.notifyObservers(o,[a],{type:"valueUpdate",source:"internal"}),n.notifyWatch([a]);var l=n.triggerDependenciesUpdate(o,a),s=n.callbacks.onValuesChange;if(s){var c=Ar(n.store,[a]);s(c,n.getFieldsValue())}n.triggerOnFieldsChange([a].concat(q(l)))}),M(this,"setFieldsValue",function(r){n.warningUnhooked();var i=n.store;if(r){var a=lt(n.store,r);n.updateStore(a)}n.notifyObservers(i,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()}),M(this,"setFieldValue",function(r,i){n.setFields([{name:r,value:i}])}),M(this,"getDependencyChildrenFields",function(r){var i=new Set,a=[],o=new Ge;n.getFieldEntities().forEach(function(s){var c=s.props.dependencies;(c||[]).forEach(function(u){var d=te(u);o.update(d,function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return f.add(s),f})})});var l=function s(c){var u=o.get(c)||new Set;u.forEach(function(d){if(!i.has(d)){i.add(d);var f=d.getNamePath();d.isFieldDirty()&&f.length&&(a.push(f),s(f))}})};return l(r),a}),M(this,"triggerOnFieldsChange",function(r,i){var a=n.callbacks.onFieldsChange;if(a){var o=n.getFields();if(i){var l=new Ge;i.forEach(function(c){var u=c.name,d=c.errors;l.set(u,d)}),o.forEach(function(c){c.errors=l.get(c.name)||c.errors})}var s=o.filter(function(c){var u=c.name;return Ke(r,u)});s.length&&a(s,o)}}),M(this,"validateFields",function(r,i){n.warningUnhooked();var a,o;Array.isArray(r)||typeof r=="string"||typeof i=="string"?(a=r,o=i):o=r;var l=!!a,s=l?a.map(te):[],c=[],u=String(Date.now()),d=new Set,f=o||{},p=f.recursive,b=f.dirty;n.getFieldEntities(!0).forEach(function(x){if(l||s.push(x.getNamePath()),!(!x.props.rules||!x.props.rules.length)&&!(b&&!x.isFieldDirty())){var C=x.getNamePath();if(d.add(C.join(u)),!l||Ke(s,C,p)){var y=x.validateRules(D({validateMessages:D(D({},ki),n.validateMessages)},o));c.push(y.then(function(){return{name:C,errors:[],warnings:[]}}).catch(function($){var F,S=[],R=[];return(F=$.forEach)===null||F===void 0||F.call($,function(N){var O=N.rule.warningOnly,T=N.errors;O?R.push.apply(R,q(T)):S.push.apply(S,q(T))}),S.length?Promise.reject({name:C,errors:S,warnings:R}):{name:C,errors:S,warnings:R}}))}}});var v=ol(c);n.lastValidatePromise=v,v.catch(function(x){return x}).then(function(x){var C=x.map(function(y){var $=y.name;return $});n.notifyObservers(n.store,C,{type:"validateFinish"}),n.triggerOnFieldsChange(C,x)});var w=v.then(function(){return n.lastValidatePromise===v?Promise.resolve(n.getFieldsValue(s)):Promise.reject([])}).catch(function(x){var C=x.filter(function(y){return y&&y.errors.length});return Promise.reject({values:n.getFieldsValue(s),errorFields:C,outOfDate:n.lastValidatePromise!==v})});w.catch(function(x){return x});var g=s.filter(function(x){return d.has(x.join(u))});return n.triggerOnFieldsChange(g),w}),M(this,"submit",function(){n.warningUnhooked(),n.validateFields().then(function(r){var i=n.callbacks.onFinish;if(i)try{i(r)}catch(a){console.error(a)}}).catch(function(r){var i=n.callbacks.onFinishFailed;i&&i(r)})}),this.forceRootUpdate=t});function Vi(e){var t=h.useRef(),n=h.useState({}),r=le(n,2),i=r[1];if(!t.current)if(e)t.current=e;else{var a=function(){i({})},o=new ll(a);t.current=o.getForm()}return[t.current]}var Vn=h.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),cl=function(t){var n=t.validateMessages,r=t.onFormChange,i=t.onFormFinish,a=t.children,o=h.useContext(Vn),l=h.useRef({});return h.createElement(Vn.Provider,{value:D(D({},o),{},{validateMessages:D(D({},o.validateMessages),n),triggerFormChange:function(c,u){r&&r(c,{changedFields:u,forms:l.current}),o.triggerFormChange(c,u)},triggerFormFinish:function(c,u){i&&i(c,{values:u,forms:l.current}),o.triggerFormFinish(c,u)},registerForm:function(c,u){c&&(l.current=D(D({},l.current),{},M({},c,u))),o.registerForm(c,u)},unregisterForm:function(c){var u=D({},l.current);delete u[c],l.current=u,o.unregisterForm(c)}})},a)},ul=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"],fl=function(t,n){var r=t.name,i=t.initialValues,a=t.fields,o=t.form,l=t.preserve,s=t.children,c=t.component,u=c===void 0?"form":c,d=t.validateMessages,f=t.validateTrigger,p=f===void 0?"onChange":f,b=t.onValuesChange,v=t.onFieldsChange,w=t.onFinish,g=t.onFinishFailed,x=Ct(t,ul),C=h.useContext(Vn),y=Vi(o),$=le(y,1),F=$[0],S=F.getInternalHooks(Le),R=S.useSubscribe,N=S.setInitialValues,O=S.setCallbacks,T=S.setValidateMessages,L=S.setPreserve,z=S.destroyForm;h.useImperativeHandle(n,function(){return F}),h.useEffect(function(){return C.registerForm(r,F),function(){C.unregisterForm(r)}},[C,F,r]),T(D(D({},C.validateMessages),d)),O({onValuesChange:b,onFieldsChange:function(V){if(C.triggerFormChange(r,V),v){for(var B=arguments.length,H=new Array(B>1?B-1:0),Q=1;Q<B;Q++)H[Q-1]=arguments[Q];v.apply(void 0,[V].concat(H))}},onFinish:function(V){C.triggerFormFinish(r,V),w&&w(V)},onFinishFailed:g}),L(l);var m=h.useRef(null);N(i,!m.current),m.current||(m.current=!0),h.useEffect(function(){return z},[]);var P,_=typeof s=="function";if(_){var E=F.getFieldsValue(!0);P=s(E,F)}else P=s;R(!_);var k=h.useRef();h.useEffect(function(){nl(k.current||[],a||[])||F.setFields(a||[]),k.current=a},[a,F]);var A=h.useMemo(function(){return D(D({},F),{},{validateTrigger:p})},[F,p]),I=h.createElement(Ut.Provider,{value:null},h.createElement(et.Provider,{value:A},P));return u===!1?I:h.createElement(u,se({},x,{onSubmit:function(V){V.preventDefault(),V.stopPropagation(),F.submit()},onReset:function(V){var B;V.preventDefault(),F.resetFields(),(B=x.onReset)===null||B===void 0||B.call(x,V)}}),I)};function jr(e){try{return JSON.stringify(e)}catch{return Math.random()}}function dl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],a=i===void 0?{}:i,o=xs(a)?{form:a}:a,l=o.form,s=h.useState(),c=le(s,2),u=c[0],d=c[1],f=h.useMemo(function(){return jr(u)},[u]),p=h.useRef(f);p.current=f;var b=h.useContext(et),v=l||b,w=v&&v._init,g=te(r),x=h.useRef(g);return x.current=g,h.useEffect(function(){if(w){var C=v.getFieldsValue,y=v.getInternalHooks,$=y(Le),F=$.registerWatch,S=function(T,L){var z=o.preserve?L:T;return typeof r=="function"?r(z):je(z,x.current)},R=F(function(O,T){var L=S(O,T),z=jr(L);p.current!==z&&(p.current=z,d(L))}),N=S(C(),C(!0));return u!==N&&d(N),R}},[w]),u}var hl=h.forwardRef(fl),$t=hl;$t.FormProvider=cl;$t.Field=Ai;$t.List=al;$t.useForm=Vi;$t.useWatch=dl;const Lr=h.createContext({}),ml=e=>{let{children:t,status:n,override:r}=e;const i=h.useContext(Lr),a=h.useMemo(()=>{const o=Object.assign({},i);return r&&delete o.isFormItemInput,n&&(delete o.status,delete o.hasFeedback,delete o.feedbackIcon),o},[n,r,i]);return h.createElement(Lr.Provider,{value:a},t)};function zr(){}const gl=h.createContext({add:zr,remove:zr});function pl(e){const t=h.useContext(gl),n=h.useRef();return ao(i=>{if(i){const a=e?i.querySelector(e):i;t.add(a),n.current=a}else t.remove(n.current)})}const vl=()=>{const{cancelButtonProps:e,cancelTextLocale:t,onCancel:n}=h.useContext(Et);return X.createElement(nr,Object.assign({onClick:n},e),t)},Dr=vl,yl=()=>{const{confirmLoading:e,okButtonProps:t,okType:n,okTextLocale:r,onOk:i}=h.useContext(Et);return X.createElement(nr,Object.assign({},mi(n),{loading:e,onClick:i},t),r)},Br=yl;function ji(e,t){return X.createElement("span",{className:`${e}-close-x`},t||X.createElement(an,{className:`${e}-close-icon`}))}const Li=e=>{const{okText:t,okType:n="primary",cancelText:r,confirmLoading:i,onOk:a,onCancel:o,okButtonProps:l,cancelButtonProps:s,footer:c}=e,[u]=rr("Modal",di()),d=t||(u==null?void 0:u.okText),f=r||(u==null?void 0:u.cancelText),p={confirmLoading:i,okButtonProps:l,cancelButtonProps:s,okTextLocale:d,cancelTextLocale:f,okType:n,onOk:a,onCancel:o},b=X.useMemo(()=>p,q(Object.values(p)));let v;return typeof c=="function"||typeof c>"u"?(v=X.createElement(X.Fragment,null,X.createElement(Dr,null),X.createElement(Br,null)),typeof c=="function"&&(v=c(v,{OkBtn:Br,CancelBtn:Dr})),v=X.createElement(Pi,{value:b},v)):v=c,X.createElement(Ka,{disabled:!1},v)},xl=new Wt("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),wl=new Wt("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),bl=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{antCls:n}=e,r=`${n}-fade`,i=t?"&":"";return[oo(r,xl,wl,e.motionDurationMid,t),{[`
        ${i}${r}-enter,
        ${i}${r}-appear
      `]:{opacity:0,animationTimingFunction:"linear"},[`${i}${r}-leave`]:{animationTimingFunction:"linear"}}]};function qr(e){return{position:e,inset:0}}const Cl=e=>{const{componentCls:t,antCls:n}=e;return[{[`${t}-root`]:{[`${t}${n}-zoom-enter, ${t}${n}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:e.motionDurationSlow,userSelect:"none"},[`${t}${n}-zoom-leave ${t}-content`]:{pointerEvents:"none"},[`${t}-mask`]:Object.assign(Object.assign({},qr("fixed")),{zIndex:e.zIndexPopupBase,height:"100%",backgroundColor:e.colorBgMask,pointerEvents:"none",[`${t}-hidden`]:{display:"none"}}),[`${t}-wrap`]:Object.assign(Object.assign({},qr("fixed")),{zIndex:e.zIndexPopupBase,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch",[`&:has(${t}${n}-zoom-enter), &:has(${t}${n}-zoom-appear)`]:{pointerEvents:"none"}})}},{[`${t}-root`]:bl(e)}]},_l=e=>{const{componentCls:t}=e;return[{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl"},[`${t}-centered`]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[t]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},[`@media (max-width: ${e.screenSMMax}px)`]:{[t]:{maxWidth:"calc(100vw - 16px)",margin:`${ie(e.marginXS)} auto`},[`${t}-centered`]:{[t]:{flex:1}}}}},{[t]:Object.assign(Object.assign({},Zn(e)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:`calc(100vw - ${ie(e.calc(e.margin).mul(2).equal())})`,margin:"0 auto",paddingBottom:e.paddingLG,[`${t}-title`]:{margin:0,color:e.titleColor,fontWeight:e.fontWeightStrong,fontSize:e.titleFontSize,lineHeight:e.titleLineHeight,wordWrap:"break-word"},[`${t}-content`]:{position:"relative",backgroundColor:e.contentBg,backgroundClip:"padding-box",border:0,borderRadius:e.borderRadiusLG,boxShadow:e.boxShadow,pointerEvents:"auto",padding:e.contentPadding},[`${t}-close`]:Object.assign({position:"absolute",top:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),insetInlineEnd:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),zIndex:e.calc(e.zIndexPopupBase).add(10).equal(),padding:0,color:e.modalCloseIconColor,fontWeight:e.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:e.borderRadiusSM,width:e.modalCloseBtnSize,height:e.modalCloseBtnSize,border:0,outline:0,cursor:"pointer",transition:`color ${e.motionDurationMid}, background-color ${e.motionDurationMid}`,"&-x":{display:"flex",fontSize:e.fontSizeLG,fontStyle:"normal",lineHeight:`${ie(e.modalCloseBtnSize)}`,justifyContent:"center",textTransform:"none",textRendering:"auto"},"&:hover":{color:e.modalIconHoverColor,backgroundColor:e.closeBtnHoverBg,textDecoration:"none"},"&:active":{backgroundColor:e.closeBtnActiveBg}},Za(e)),[`${t}-header`]:{color:e.colorText,background:e.headerBg,borderRadius:`${ie(e.borderRadiusLG)} ${ie(e.borderRadiusLG)} 0 0`,marginBottom:e.headerMarginBottom,padding:e.headerPadding,borderBottom:e.headerBorderBottom},[`${t}-body`]:{fontSize:e.fontSize,lineHeight:e.lineHeight,wordWrap:"break-word",padding:e.bodyPadding},[`${t}-footer`]:{textAlign:"end",background:e.footerBg,marginTop:e.footerMarginTop,padding:e.footerPadding,borderTop:e.footerBorderTop,borderRadius:e.footerBorderRadius,[`${e.antCls}-btn + ${e.antCls}-btn:not(${e.antCls}-dropdown-trigger)`]:{marginBottom:0,marginInlineStart:e.marginXS}},[`${t}-open`]:{overflow:"hidden"}})},{[`${t}-pure-panel`]:{top:"auto",padding:0,display:"flex",flexDirection:"column",[`${t}-content,
          ${t}-body,
          ${t}-confirm-body-wrapper`]:{display:"flex",flexDirection:"column",flex:"auto"},[`${t}-confirm-body`]:{marginBottom:"auto"}}}]},El=e=>{const{componentCls:t}=e;return{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl",[`${t}-confirm-body`]:{direction:"rtl"}}}}},zi=e=>{const t=e.padding,n=e.fontSizeHeading5,r=e.lineHeightHeading5;return Kn(e,{modalHeaderHeight:e.calc(e.calc(r).mul(n).equal()).add(e.calc(t).mul(2).equal()).equal(),modalFooterBorderColorSplit:e.colorSplit,modalFooterBorderStyle:e.lineType,modalFooterBorderWidth:e.lineWidth,modalIconHoverColor:e.colorIconHover,modalCloseIconColor:e.colorIcon,modalCloseBtnSize:e.fontHeight,modalConfirmIconSize:e.fontHeight,modalTitleHeight:e.calc(e.titleFontSize).mul(e.titleLineHeight).equal()})},Di=e=>({footerBg:"transparent",headerBg:e.colorBgElevated,titleLineHeight:e.lineHeightHeading5,titleFontSize:e.fontSizeHeading5,contentBg:e.colorBgElevated,titleColor:e.colorTextHeading,closeBtnHoverBg:e.wireframe?"transparent":e.colorFillContent,closeBtnActiveBg:e.wireframe?"transparent":e.colorFillContentHover,contentPadding:e.wireframe?0:`${ie(e.paddingMD)} ${ie(e.paddingContentHorizontalLG)}`,headerPadding:e.wireframe?`${ie(e.padding)} ${ie(e.paddingLG)}`:0,headerBorderBottom:e.wireframe?`${ie(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",headerMarginBottom:e.wireframe?0:e.marginXS,bodyPadding:e.wireframe?e.paddingLG:0,footerPadding:e.wireframe?`${ie(e.paddingXS)} ${ie(e.padding)}`:0,footerBorderTop:e.wireframe?`${ie(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",footerBorderRadius:e.wireframe?`0 0 ${ie(e.borderRadiusLG)} ${ie(e.borderRadiusLG)}`:0,footerMarginTop:e.wireframe?0:e.marginSM,confirmBodyPadding:e.wireframe?`${ie(e.padding*2)} ${ie(e.padding*2)} ${ie(e.paddingLG)}`:0,confirmIconMarginInlineEnd:e.wireframe?e.margin:e.marginSM,confirmBtnsMarginTop:e.wireframe?e.marginLG:e.marginSM}),Bi=Gn("Modal",e=>{const t=zi(e);return[_l(t),El(t),Cl(t),gi(t,"zoom")]},Di,{unitless:{titleLineHeight:!0}});var Fl=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};let jn;const $l=e=>{jn={x:e.pageX,y:e.pageY},setTimeout(()=>{jn=null},100)};ys()&&document.documentElement.addEventListener("click",$l,!0);const Pl=e=>{var t;const{getPopupContainer:n,getPrefixCls:r,direction:i,modal:a}=h.useContext(Xe),o=V=>{const{onCancel:B}=e;B==null||B(V)},l=V=>{const{onOk:B}=e;B==null||B(V)},{prefixCls:s,className:c,rootClassName:u,open:d,wrapClassName:f,centered:p,getContainer:b,closeIcon:v,closable:w,focusTriggerAfterClose:g=!0,style:x,visible:C,width:y=520,footer:$,classNames:F,styles:S}=e,R=Fl(e,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","closeIcon","closable","focusTriggerAfterClose","style","visible","width","footer","classNames","styles"]),N=r("modal",s),O=r(),T=rn(N),[L,z,m]=Bi(N,T),P=Z(f,{[`${N}-centered`]:!!p,[`${N}-wrap-rtl`]:i==="rtl"}),_=$!==null&&h.createElement(Li,Object.assign({},e,{onOk:l,onCancel:o})),[E,k]=vs(w,v,V=>ji(N,V),h.createElement(an,{className:`${N}-close-icon`}),!0),A=pl(`.${N}-content`),[I,j]=so("Modal",R.zIndex);return L(h.createElement(Qa,null,h.createElement(ml,{status:!0,override:!0},h.createElement(lo.Provider,{value:j},h.createElement(Ti,Object.assign({width:y},R,{zIndex:I,getContainer:b===void 0?n:b,prefixCls:N,rootClassName:Z(z,u,m,T),footer:_,visible:d??C,mousePosition:(t=R.mousePosition)!==null&&t!==void 0?t:jn,onClose:o,closable:E,closeIcon:k,focusTriggerAfterClose:g,transitionName:ht(O,"zoom",e.transitionName),maskTransitionName:ht(O,"fade",e.maskTransitionName),className:Z(z,c,a==null?void 0:a.className),style:Object.assign(Object.assign({},a==null?void 0:a.style),x),classNames:Object.assign(Object.assign({wrapper:P},a==null?void 0:a.classNames),F),styles:Object.assign(Object.assign({},a==null?void 0:a.styles),S),panelRef:A}))))))},qi=Pl,Sl=e=>{const{componentCls:t,titleFontSize:n,titleLineHeight:r,modalConfirmIconSize:i,fontSize:a,lineHeight:o,modalTitleHeight:l,fontHeight:s,confirmBodyPadding:c}=e,u=`${t}-confirm`;return{[u]:{"&-rtl":{direction:"rtl"},[`${e.antCls}-modal-header`]:{display:"none"},[`${u}-body-wrapper`]:Object.assign({},eo()),[`&${t} ${t}-body`]:{padding:c},[`${u}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${e.iconCls}`]:{flex:"none",fontSize:i,marginInlineEnd:e.confirmIconMarginInlineEnd,marginTop:e.calc(e.calc(s).sub(i).equal()).div(2).equal()},[`&-has-title > ${e.iconCls}`]:{marginTop:e.calc(e.calc(l).sub(i).equal()).div(2).equal()}},[`${u}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:e.marginXS,maxWidth:`calc(100% - ${ie(e.calc(e.modalConfirmIconSize).add(e.marginSM).equal())})`},[`${u}-title`]:{color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:n,lineHeight:r},[`${u}-content`]:{color:e.colorText,fontSize:a,lineHeight:o},[`${u}-btns`]:{textAlign:"end",marginTop:e.confirmBtnsMarginTop,[`${e.antCls}-btn + ${e.antCls}-btn`]:{marginBottom:0,marginInlineStart:e.marginXS}}},[`${u}-error ${u}-body > ${e.iconCls}`]:{color:e.colorError},[`${u}-warning ${u}-body > ${e.iconCls},
        ${u}-confirm ${u}-body > ${e.iconCls}`]:{color:e.colorWarning},[`${u}-info ${u}-body > ${e.iconCls}`]:{color:e.colorInfo},[`${u}-success ${u}-body > ${e.iconCls}`]:{color:e.colorSuccess}}},Nl=Ja(["Modal","confirm"],e=>{const t=zi(e);return[Sl(t)]},Di,{order:-1e3});var Ol=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function Hi(e){const{prefixCls:t,icon:n,okText:r,cancelText:i,confirmPrefixCls:a,type:o,okCancel:l,footer:s,locale:c}=e,u=Ol(e,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let d=n;if(!n&&n!==null)switch(o){case"info":d=h.createElement(wi,null);break;case"success":d=h.createElement(vi,null);break;case"error":d=h.createElement(yi,null);break;default:d=h.createElement(xi,null)}const f=l??o==="confirm",p=e.autoFocusButton===null?!1:e.autoFocusButton||"ok",[b]=rr("Modal"),v=c||b,w=r||(f?v==null?void 0:v.okText:v==null?void 0:v.justOkText),g=i||(v==null?void 0:v.cancelText),x=Object.assign({autoFocusButton:p,cancelTextLocale:g,okTextLocale:w,mergedOkCancel:f},u),C=h.useMemo(()=>x,q(Object.values(x))),y=h.createElement(h.Fragment,null,h.createElement(_r,null),h.createElement(Er,null)),$=e.title!==void 0&&e.title!==null,F=`${a}-body`;return h.createElement("div",{className:`${a}-body-wrapper`},h.createElement("div",{className:Z(F,{[`${F}-has-title`]:$})},d,h.createElement("div",{className:`${a}-paragraph`},$&&h.createElement("span",{className:`${a}-title`},e.title),h.createElement("div",{className:`${a}-content`},e.content))),s===void 0||typeof s=="function"?h.createElement(Pi,{value:C},h.createElement("div",{className:`${a}-btns`},typeof s=="function"?s(y,{OkBtn:Er,CancelBtn:_r}):y)):s,h.createElement(Nl,{prefixCls:t}))}const Tl=e=>{const{close:t,zIndex:n,afterClose:r,open:i,keyboard:a,centered:o,getContainer:l,maskStyle:s,direction:c,prefixCls:u,wrapClassName:d,rootPrefixCls:f,bodyStyle:p,closable:b=!1,closeIcon:v,modalRender:w,focusTriggerAfterClose:g,onConfirm:x,styles:C}=e,y=`${u}-confirm`,$=e.width||416,F=e.style||{},S=e.mask===void 0?!0:e.mask,R=e.maskClosable===void 0?!1:e.maskClosable,N=Z(y,`${y}-${e.type}`,{[`${y}-rtl`]:c==="rtl"},e.className),[,O]=to(),T=h.useMemo(()=>n!==void 0?n:O.zIndexPopupBase+hi,[n,O]);return h.createElement(qi,{prefixCls:u,className:N,wrapClassName:Z({[`${y}-centered`]:!!e.centered},d),onCancel:()=>{t==null||t({triggerCancel:!0}),x==null||x(!1)},open:i,title:"",footer:null,transitionName:ht(f||"","zoom",e.transitionName),maskTransitionName:ht(f||"","fade",e.maskTransitionName),mask:S,maskClosable:R,style:F,styles:Object.assign({body:p,mask:s},C),width:$,zIndex:T,afterClose:r,keyboard:a,centered:o,getContainer:l,closable:b,closeIcon:v,modalRender:w,focusTriggerAfterClose:g},h.createElement(Hi,Object.assign({},e,{confirmPrefixCls:y})))},Ml=e=>{const{rootPrefixCls:t,iconPrefixCls:n,direction:r,theme:i}=e;return h.createElement(er,{prefixCls:t,iconPrefixCls:n,direction:r,theme:i},h.createElement(Tl,Object.assign({},e)))},Wi=Ml,kl=[],De=kl;var Rl=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};let Ui="";function Al(){return Ui}function Pt(e){const t=document.createDocumentFragment();let n=Object.assign(Object.assign({},e),{close:o,open:!0}),r;function i(){for(var s=arguments.length,c=new Array(s),u=0;u<s;u++)c[u]=arguments[u];const d=c.some(f=>f&&f.triggerCancel);e.onCancel&&d&&e.onCancel.apply(e,[()=>{}].concat(q(c.slice(1))));for(let f=0;f<De.length;f++)if(De[f]===o){De.splice(f,1);break}co(t)}function a(s){var{okText:c,cancelText:u,prefixCls:d,getContainer:f}=s,p=Rl(s,["okText","cancelText","prefixCls","getContainer"]);clearTimeout(r),r=setTimeout(()=>{const b=di(),{getPrefixCls:v,getIconPrefixCls:w,getTheme:g}=tr(),x=v(void 0,Al()),C=d||`${x}-modal`,y=w(),$=g();let F=f;F===!1&&(F=void 0),pi(h.createElement(Wi,Object.assign({},p,{getContainer:F,prefixCls:C,rootPrefixCls:x,iconPrefixCls:y,okText:c,locale:b,theme:$,cancelText:u||b.cancelText})),t)})}function o(){for(var s=arguments.length,c=new Array(s),u=0;u<s;u++)c[u]=arguments[u];n=Object.assign(Object.assign({},n),{open:!1,afterClose:()=>{typeof e.afterClose=="function"&&e.afterClose(),i.apply(this,c)}}),n.visible&&delete n.visible,a(n)}function l(s){typeof s=="function"?n=s(n):n=Object.assign(Object.assign({},n),s),a(n)}return a(n),De.push(o),{destroy:o,update:l}}function Xi(e){return Object.assign(Object.assign({},e),{type:"warning"})}function Yi(e){return Object.assign(Object.assign({},e),{type:"info"})}function Gi(e){return Object.assign(Object.assign({},e),{type:"success"})}function Ki(e){return Object.assign(Object.assign({},e),{type:"error"})}function Zi(e){return Object.assign(Object.assign({},e),{type:"confirm"})}function Il(e){let{rootPrefixCls:t}=e;Ui=t}var Vl=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const jl=(e,t)=>{var n,{afterClose:r,config:i}=e,a=Vl(e,["afterClose","config"]);const[o,l]=h.useState(!0),[s,c]=h.useState(i),{direction:u,getPrefixCls:d}=h.useContext(Xe),f=d("modal"),p=d(),b=()=>{var x;r(),(x=s.afterClose)===null||x===void 0||x.call(s)},v=function(){l(!1);for(var x=arguments.length,C=new Array(x),y=0;y<x;y++)C[y]=arguments[y];const $=C.some(F=>F&&F.triggerCancel);s.onCancel&&$&&s.onCancel.apply(s,[()=>{}].concat(q(C.slice(1))))};h.useImperativeHandle(t,()=>({destroy:v,update:x=>{c(C=>Object.assign(Object.assign({},C),x))}}));const w=(n=s.okCancel)!==null&&n!==void 0?n:s.type==="confirm",[g]=rr("Modal",Fn.Modal);return h.createElement(Wi,Object.assign({prefixCls:f,rootPrefixCls:p},s,{close:v,open:o,afterClose:b,okText:s.okText||(w?g==null?void 0:g.okText:g==null?void 0:g.justOkText),direction:s.direction||u,cancelText:s.cancelText||(g==null?void 0:g.cancelText)},a))},Ll=h.forwardRef(jl);let Hr=0;const zl=h.memo(h.forwardRef((e,t)=>{const[n,r]=ls();return h.useImperativeHandle(t,()=>({patchElement:r}),[]),h.createElement(h.Fragment,null,n)}));function Dl(){const e=h.useRef(null),[t,n]=h.useState([]);h.useEffect(()=>{t.length&&(q(t).forEach(o=>{o()}),n([]))},[t]);const r=h.useCallback(a=>function(l){var s;Hr+=1;const c=h.createRef();let u;const d=new Promise(w=>{u=w});let f=!1,p;const b=h.createElement(Ll,{key:`modal-${Hr}`,config:a(l),ref:c,afterClose:()=>{p==null||p()},isSilent:()=>f,onConfirm:w=>{u(w)}});return p=(s=e.current)===null||s===void 0?void 0:s.patchElement(b),p&&De.push(p),{destroy:()=>{function w(){var g;(g=c.current)===null||g===void 0||g.destroy()}c.current?w():n(g=>[].concat(q(g),[w]))},update:w=>{function g(){var x;(x=c.current)===null||x===void 0||x.update(w)}c.current?g():n(x=>[].concat(q(x),[g]))},then:w=>(f=!0,d.then(w))}},[]);return[h.useMemo(()=>({info:r(Yi),success:r(Gi),error:r(Ki),warning:r(Xi),confirm:r(Zi)}),[]),h.createElement(zl,{key:"modal-holder",ref:e})]}function Bl(e){return t=>h.createElement(er,{theme:{token:{motion:!1,zIndexPopupBase:0}}},h.createElement(e,Object.assign({},t)))}const Xt=e=>e?typeof e=="function"?e():e:null,ql=e=>{const{componentCls:t,popoverColor:n,titleMinWidth:r,fontWeightStrong:i,innerPadding:a,boxShadowSecondary:o,colorTextHeading:l,borderRadiusLG:s,zIndexPopup:c,titleMarginBottom:u,colorBgElevated:d,popoverBg:f,titleBorderBottom:p,innerContentPadding:b,titlePadding:v}=e;return[{[t]:Object.assign(Object.assign({},Zn(e)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:c,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","--antd-arrow-background-color":d,"&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${t}-content`]:{position:"relative"},[`${t}-inner`]:{backgroundColor:f,backgroundClip:"padding-box",borderRadius:s,boxShadow:o,padding:a},[`${t}-title`]:{minWidth:r,marginBottom:u,color:l,fontWeight:i,borderBottom:p,padding:v},[`${t}-inner-content`]:{color:n,padding:b}})},uo(e,"var(--antd-arrow-background-color)"),{[`${t}-pure`]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow,display:"inline-block",[`${t}-content`]:{display:"inline-block"}}}]},Hl=e=>{const{componentCls:t}=e;return{[t]:fo.map(n=>{const r=e[`${n}6`];return{[`&${t}-${n}`]:{"--antd-arrow-background-color":r,[`${t}-inner`]:{backgroundColor:r},[`${t}-arrow`]:{background:"transparent"}}}})}},Wl=e=>{const{lineWidth:t,controlHeight:n,fontHeight:r,padding:i,wireframe:a,zIndexPopupBase:o,borderRadiusLG:l,marginXS:s,lineType:c,colorSplit:u,paddingSM:d}=e,f=n-r,p=f/2,b=f/2-t,v=i;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:o+30},ho(e)),mo({contentRadius:l,limitVerticalRadius:!0})),{innerPadding:a?0:12,titleMarginBottom:a?0:s,titlePadding:a?`${p}px ${v}px ${b}px`:0,titleBorderBottom:a?`${t}px ${c} ${u}`:"none",innerContentPadding:a?`${d}px ${v}px`:0})},Qi=Gn("Popover",e=>{const{colorBgElevated:t,colorText:n}=e,r=Kn(e,{popoverBg:t,popoverColor:n});return[ql(r),Hl(r),gi(r,"zoom-big")]},Wl,{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]});var Ul=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Xl=(e,t,n)=>{if(!(!t&&!n))return h.createElement(h.Fragment,null,t&&h.createElement("div",{className:`${e}-title`},Xt(t)),h.createElement("div",{className:`${e}-inner-content`},Xt(n)))},Yl=e=>{const{hashId:t,prefixCls:n,className:r,style:i,placement:a="top",title:o,content:l,children:s}=e;return h.createElement("div",{className:Z(t,n,`${n}-pure`,`${n}-placement-${a}`,r),style:i},h.createElement("div",{className:`${n}-arrow`}),h.createElement(go,Object.assign({},e,{className:t,prefixCls:n}),s||Xl(n,o,l)))},Gl=e=>{const{prefixCls:t,className:n}=e,r=Ul(e,["prefixCls","className"]),{getPrefixCls:i}=h.useContext(Xe),a=i("popover",t),[o,l,s]=Qi(a);return o(h.createElement(Yl,Object.assign({},r,{prefixCls:a,hashId:l,className:Z(n,s)})))},Kl=Gl;var Zl=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Ql=e=>{let{title:t,content:n,prefixCls:r}=e;return h.createElement(h.Fragment,null,t&&h.createElement("div",{className:`${r}-title`},Xt(t)),h.createElement("div",{className:`${r}-inner-content`},Xt(n)))},Ji=h.forwardRef((e,t)=>{const{prefixCls:n,title:r,content:i,overlayClassName:a,placement:o="top",trigger:l="hover",mouseEnterDelay:s=.1,mouseLeaveDelay:c=.1,overlayStyle:u={}}=e,d=Zl(e,["prefixCls","title","content","overlayClassName","placement","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle"]),{getPrefixCls:f}=h.useContext(Xe),p=f("popover",n),[b,v,w]=Qi(p),g=f(),x=Z(a,v,w);return b(h.createElement(po,Object.assign({placement:o,trigger:l,mouseEnterDelay:s,mouseLeaveDelay:c,overlayStyle:u},d,{prefixCls:p,overlayClassName:x,ref:t,overlay:r||i?h.createElement(Ql,{prefixCls:p,title:r,content:i}):null,transitionName:ht(g,"zoom-big",d.transitionName),"data-popover-inject":!0})))});Ji._InternalPanelDoNotUseOrYouWillBeFired=Kl;const Jl=Ji;let ye=null,Be=e=>e(),gt=[],Yt={};function Wr(){const{prefixCls:e,getContainer:t,duration:n,rtl:r,maxCount:i,top:a}=Yt,o=e??tr().getPrefixCls("message"),l=(t==null?void 0:t())||document.body;return{prefixCls:o,getContainer:()=>l,duration:n,rtl:r,maxCount:i,top:a}}const ec=h.forwardRef((e,t)=>{const[n,r]=h.useState(Wr),[i,a]=Fi(n),o=tr(),l=o.getRootPrefixCls(),s=o.getIconPrefixCls(),c=o.getTheme(),u=()=>{r(Wr)};return h.useEffect(u,[]),h.useImperativeHandle(t,()=>{const d=Object.assign({},i);return Object.keys(d).forEach(f=>{d[f]=function(){return u(),i[f].apply(i,arguments)}}),{instance:d,sync:u}}),h.createElement(er,{prefixCls:l,iconPrefixCls:s,theme:c},a)});function on(){if(!ye){const e=document.createDocumentFragment(),t={fragment:e};ye=t,Be(()=>{pi(h.createElement(ec,{ref:n=>{const{instance:r,sync:i}=n||{};Promise.resolve().then(()=>{!t.instance&&r&&(t.instance=r,t.sync=i,on())})}}),e)});return}ye.instance&&(gt.forEach(e=>{const{type:t,skipped:n}=e;if(!n)switch(t){case"open":{Be(()=>{const r=ye.instance.open(Object.assign(Object.assign({},Yt),e.config));r==null||r.then(e.resolve),e.setCloseFn(r)});break}case"destroy":Be(()=>{ye==null||ye.instance.destroy(e.key)});break;default:Be(()=>{var r;const i=(r=ye.instance)[t].apply(r,q(e.args));i==null||i.then(e.resolve),e.setCloseFn(i)})}}),gt=[])}function tc(e){Yt=Object.assign(Object.assign({},Yt),e),Be(()=>{var t;(t=ye==null?void 0:ye.sync)===null||t===void 0||t.call(ye)})}function nc(e){const t=ir(n=>{let r;const i={type:"open",config:e,resolve:n,setCloseFn:a=>{r=a}};return gt.push(i),()=>{r?Be(()=>{r()}):i.skipped=!0}});return on(),t}function rc(e,t){const n=ir(r=>{let i;const a={type:e,args:t,resolve:r,setCloseFn:o=>{i=o}};return gt.push(a),()=>{i?Be(()=>{i()}):a.skipped=!0}});return on(),n}function ic(e){gt.push({type:"destroy",key:e}),on()}const ac=["success","info","warning","error","loading"],oc={open:nc,destroy:ic,config:tc,useMessage:ss,_InternalPanelDoNotUseOrYouWillBeFired:Jo},ea=oc;ac.forEach(e=>{ea[e]=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return rc(e,n)}});const Mt=ea;var sc=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const lc=e=>{const{prefixCls:t,className:n,closeIcon:r,closable:i,type:a,title:o,children:l,footer:s}=e,c=sc(e,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:u}=h.useContext(Xe),d=u(),f=t||u("modal"),p=rn(d),[b,v,w]=Bi(f,p),g=`${f}-confirm`;let x={};return a?x={closable:i??!1,title:"",footer:"",children:h.createElement(Hi,Object.assign({},e,{prefixCls:f,confirmPrefixCls:g,rootPrefixCls:d,content:l}))}:x={closable:i??!0,title:o,footer:s!==null&&h.createElement(Li,Object.assign({},e)),children:l},b(h.createElement(Ni,Object.assign({prefixCls:f,className:Z(v,`${f}-pure-panel`,a&&g,a&&`${g}-${a}`,n,w,p)},c,{closeIcon:ji(f,r),closable:i},x)))},cc=Bl(lc);function ta(e){return Pt(Xi(e))}const we=qi;we.useModal=Dl;we.info=function(t){return Pt(Yi(t))};we.success=function(t){return Pt(Gi(t))};we.error=function(t){return Pt(Ki(t))};we.warning=ta;we.warn=ta;we.confirm=function(t){return Pt(Zi(t))};we.destroyAll=function(){for(;De.length;){const t=De.pop();t&&t()}};we.config=Il;we._InternalPanelDoNotUseOrYouWillBeFired=cc;const uc=we;var fc={value:()=>{}};function sn(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new zt(n)}function zt(e){this._=e}function dc(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}zt.prototype=sn.prototype={constructor:zt,on:function(e,t){var n=this._,r=dc(e+"",n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(e=r[a]).type)&&(i=hc(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<o;)if(i=(e=r[a]).type)n[i]=Ur(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Ur(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new zt(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],r=0,i=a.length;r<i;++r)a[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};function hc(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Ur(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=fc,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Ln="http://www.w3.org/1999/xhtml";const Xr={svg:"http://www.w3.org/2000/svg",xhtml:Ln,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ln(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Xr.hasOwnProperty(t)?{space:Xr[t],local:e}:e}function mc(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Ln&&t.documentElement.namespaceURI===Ln?t.createElement(e):t.createElementNS(n,e)}}function gc(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function na(e){var t=ln(e);return(t.local?gc:mc)(t)}function pc(){}function or(e){return e==null?pc:function(){return this.querySelector(e)}}function vc(e){typeof e!="function"&&(e=or(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,l=r[i]=new Array(o),s,c,u=0;u<o;++u)(s=a[u])&&(c=e.call(s,s.__data__,u,a))&&("__data__"in s&&(c.__data__=s.__data__),l[u]=c);return new ge(r,this._parents)}function yc(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function xc(){return[]}function ra(e){return e==null?xc:function(){return this.querySelectorAll(e)}}function wc(e){return function(){return yc(e.apply(this,arguments))}}function bc(e){typeof e=="function"?e=wc(e):e=ra(e);for(var t=this._groups,n=t.length,r=[],i=[],a=0;a<n;++a)for(var o=t[a],l=o.length,s,c=0;c<l;++c)(s=o[c])&&(r.push(e.call(s,s.__data__,c,o)),i.push(s));return new ge(r,i)}function ia(e){return function(){return this.matches(e)}}function aa(e){return function(t){return t.matches(e)}}var Cc=Array.prototype.find;function _c(e){return function(){return Cc.call(this.children,e)}}function Ec(){return this.firstElementChild}function Fc(e){return this.select(e==null?Ec:_c(typeof e=="function"?e:aa(e)))}var $c=Array.prototype.filter;function Pc(){return Array.from(this.children)}function Sc(e){return function(){return $c.call(this.children,e)}}function Nc(e){return this.selectAll(e==null?Pc:Sc(typeof e=="function"?e:aa(e)))}function Oc(e){typeof e!="function"&&(e=ia(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,l=r[i]=[],s,c=0;c<o;++c)(s=a[c])&&e.call(s,s.__data__,c,a)&&l.push(s);return new ge(r,this._parents)}function oa(e){return new Array(e.length)}function Tc(){return new ge(this._enter||this._groups.map(oa),this._parents)}function Gt(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Gt.prototype={constructor:Gt,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Mc(e){return function(){return e}}function kc(e,t,n,r,i,a){for(var o=0,l,s=t.length,c=a.length;o<c;++o)(l=t[o])?(l.__data__=a[o],r[o]=l):n[o]=new Gt(e,a[o]);for(;o<s;++o)(l=t[o])&&(i[o]=l)}function Rc(e,t,n,r,i,a,o){var l,s,c=new Map,u=t.length,d=a.length,f=new Array(u),p;for(l=0;l<u;++l)(s=t[l])&&(f[l]=p=o.call(s,s.__data__,l,t)+"",c.has(p)?i[l]=s:c.set(p,s));for(l=0;l<d;++l)p=o.call(e,a[l],l,a)+"",(s=c.get(p))?(r[l]=s,s.__data__=a[l],c.delete(p)):n[l]=new Gt(e,a[l]);for(l=0;l<u;++l)(s=t[l])&&c.get(f[l])===s&&(i[l]=s)}function Ac(e){return e.__data__}function Ic(e,t){if(!arguments.length)return Array.from(this,Ac);var n=t?Rc:kc,r=this._parents,i=this._groups;typeof e!="function"&&(e=Mc(e));for(var a=i.length,o=new Array(a),l=new Array(a),s=new Array(a),c=0;c<a;++c){var u=r[c],d=i[c],f=d.length,p=Vc(e.call(u,u&&u.__data__,c,r)),b=p.length,v=l[c]=new Array(b),w=o[c]=new Array(b),g=s[c]=new Array(f);n(u,d,v,w,g,p,t);for(var x=0,C=0,y,$;x<b;++x)if(y=v[x]){for(x>=C&&(C=x+1);!($=w[C])&&++C<b;);y._next=$||null}}return o=new ge(o,r),o._enter=l,o._exit=s,o}function Vc(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function jc(){return new ge(this._exit||this._groups.map(oa),this._parents)}function Lc(e,t,n){var r=this.enter(),i=this,a=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function zc(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,a=r.length,o=Math.min(i,a),l=new Array(i),s=0;s<o;++s)for(var c=n[s],u=r[s],d=c.length,f=l[s]=new Array(d),p,b=0;b<d;++b)(p=c[b]||u[b])&&(f[b]=p);for(;s<i;++s)l[s]=n[s];return new ge(l,this._parents)}function Dc(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function Bc(e){e||(e=qc);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o=n[a],l=o.length,s=i[a]=new Array(l),c,u=0;u<l;++u)(c=o[u])&&(s[u]=c);s.sort(t)}return new ge(i,this._parents).order()}function qc(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Hc(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Wc(){return Array.from(this)}function Uc(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function Xc(){let e=0;for(const t of this)++e;return e}function Yc(){return!this.node()}function Gc(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],a=0,o=i.length,l;a<o;++a)(l=i[a])&&e.call(l,l.__data__,a,i);return this}function Kc(e){return function(){this.removeAttribute(e)}}function Zc(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Qc(e,t){return function(){this.setAttribute(e,t)}}function Jc(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function eu(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function tu(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function nu(e,t){var n=ln(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Zc:Kc:typeof t=="function"?n.local?tu:eu:n.local?Jc:Qc)(n,t))}function sa(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function ru(e){return function(){this.style.removeProperty(e)}}function iu(e,t,n){return function(){this.style.setProperty(e,t,n)}}function au(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function ou(e,t,n){return arguments.length>1?this.each((t==null?ru:typeof t=="function"?au:iu)(e,t,n??"")):tt(this.node(),e)}function tt(e,t){return e.style.getPropertyValue(t)||sa(e).getComputedStyle(e,null).getPropertyValue(t)}function su(e){return function(){delete this[e]}}function lu(e,t){return function(){this[e]=t}}function cu(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function uu(e,t){return arguments.length>1?this.each((t==null?su:typeof t=="function"?cu:lu)(e,t)):this.node()[e]}function la(e){return e.trim().split(/^|\s+/)}function sr(e){return e.classList||new ca(e)}function ca(e){this._node=e,this._names=la(e.getAttribute("class")||"")}ca.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function ua(e,t){for(var n=sr(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function fa(e,t){for(var n=sr(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function fu(e){return function(){ua(this,e)}}function du(e){return function(){fa(this,e)}}function hu(e,t){return function(){(t.apply(this,arguments)?ua:fa)(this,e)}}function mu(e,t){var n=la(e+"");if(arguments.length<2){for(var r=sr(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?hu:t?fu:du)(n,t))}function gu(){this.textContent=""}function pu(e){return function(){this.textContent=e}}function vu(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function yu(e){return arguments.length?this.each(e==null?gu:(typeof e=="function"?vu:pu)(e)):this.node().textContent}function xu(){this.innerHTML=""}function wu(e){return function(){this.innerHTML=e}}function bu(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Cu(e){return arguments.length?this.each(e==null?xu:(typeof e=="function"?bu:wu)(e)):this.node().innerHTML}function _u(){this.nextSibling&&this.parentNode.appendChild(this)}function Eu(){return this.each(_u)}function Fu(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function $u(){return this.each(Fu)}function Pu(e){var t=typeof e=="function"?e:na(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Su(){return null}function Nu(e,t){var n=typeof e=="function"?e:na(e),r=t==null?Su:typeof t=="function"?t:or(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Ou(){var e=this.parentNode;e&&e.removeChild(this)}function Tu(){return this.each(Ou)}function Mu(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ku(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ru(e){return this.select(e?ku:Mu)}function Au(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Iu(e){return function(t){e.call(this,t,this.__data__)}}function Vu(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function ju(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,a;n<i;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++r]=a;++r?t.length=r:delete this.__on}}}function Lu(e,t,n){return function(){var r=this.__on,i,a=Iu(t);if(r){for(var o=0,l=r.length;o<l;++o)if((i=r[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=t;return}}this.addEventListener(e.type,a,n),i={type:e.type,name:e.name,value:t,listener:a,options:n},r?r.push(i):this.__on=[i]}}function zu(e,t,n){var r=Vu(e+""),i,a=r.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var s=0,c=l.length,u;s<c;++s)for(i=0,u=l[s];i<a;++i)if((o=r[i]).type===u.type&&o.name===u.name)return u.value}return}for(l=t?Lu:ju,i=0;i<a;++i)this.each(l(r[i],t,n));return this}function da(e,t,n){var r=sa(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Du(e,t){return function(){return da(this,e,t)}}function Bu(e,t){return function(){return da(this,e,t.apply(this,arguments))}}function qu(e,t){return this.each((typeof t=="function"?Bu:Du)(e,t))}function*Hu(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length,o;i<a;++i)(o=r[i])&&(yield o)}var ha=[null];function ge(e,t){this._groups=e,this._parents=t}function St(){return new ge([[document.documentElement]],ha)}function Wu(){return this}ge.prototype=St.prototype={constructor:ge,select:vc,selectAll:bc,selectChild:Fc,selectChildren:Nc,filter:Oc,data:Ic,enter:Tc,exit:jc,join:Lc,merge:zc,selection:Wu,order:Dc,sort:Bc,call:Hc,nodes:Wc,node:Uc,size:Xc,empty:Yc,each:Gc,attr:nu,style:ou,property:uu,classed:mu,text:yu,html:Cu,raise:Eu,lower:$u,append:Pu,insert:Nu,remove:Tu,clone:Ru,datum:Au,on:zu,dispatch:qu,[Symbol.iterator]:Hu};function ne(e){return typeof e=="string"?new ge([[document.querySelector(e)]],[document.documentElement]):new ge([[e]],ha)}function Uu(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Se(e,t){if(e=Uu(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const Xu={passive:!1},pt={capture:!0,passive:!1};function xn(e){e.stopImmediatePropagation()}function Ze(e){e.preventDefault(),e.stopImmediatePropagation()}function ma(e){var t=e.document.documentElement,n=ne(e).on("dragstart.drag",Ze,pt);"onselectstart"in t?n.on("selectstart.drag",Ze,pt):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function ga(e,t){var n=e.document.documentElement,r=ne(e).on("dragstart.drag",null);t&&(r.on("click.drag",Ze,pt),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const kt=e=>()=>e;function zn(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:a,x:o,y:l,dx:s,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:s,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}zn.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Yu(e){return!e.ctrlKey&&!e.button}function Gu(){return this.parentNode}function Ku(e,t){return t??{x:e.x,y:e.y}}function Zu(){return navigator.maxTouchPoints||"ontouchstart"in this}function Qu(){var e=Yu,t=Gu,n=Ku,r=Zu,i={},a=sn("start","drag","end"),o=0,l,s,c,u,d=0;function f(y){y.on("mousedown.drag",p).filter(r).on("touchstart.drag",w).on("touchmove.drag",g,Xu).on("touchend.drag touchcancel.drag",x).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(y,$){if(!(u||!e.call(this,y,$))){var F=C(this,t.call(this,y,$),y,$,"mouse");F&&(ne(y.view).on("mousemove.drag",b,pt).on("mouseup.drag",v,pt),ma(y.view),xn(y),c=!1,l=y.clientX,s=y.clientY,F("start",y))}}function b(y){if(Ze(y),!c){var $=y.clientX-l,F=y.clientY-s;c=$*$+F*F>d}i.mouse("drag",y)}function v(y){ne(y.view).on("mousemove.drag mouseup.drag",null),ga(y.view,c),Ze(y),i.mouse("end",y)}function w(y,$){if(e.call(this,y,$)){var F=y.changedTouches,S=t.call(this,y,$),R=F.length,N,O;for(N=0;N<R;++N)(O=C(this,S,y,$,F[N].identifier,F[N]))&&(xn(y),O("start",y,F[N]))}}function g(y){var $=y.changedTouches,F=$.length,S,R;for(S=0;S<F;++S)(R=i[$[S].identifier])&&(Ze(y),R("drag",y,$[S]))}function x(y){var $=y.changedTouches,F=$.length,S,R;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),S=0;S<F;++S)(R=i[$[S].identifier])&&(xn(y),R("end",y,$[S]))}function C(y,$,F,S,R,N){var O=a.copy(),T=Se(N||F,$),L,z,m;if((m=n.call(y,new zn("beforestart",{sourceEvent:F,target:f,identifier:R,active:o,x:T[0],y:T[1],dx:0,dy:0,dispatch:O}),S))!=null)return L=m.x-T[0]||0,z=m.y-T[1]||0,function P(_,E,k){var A=T,I;switch(_){case"start":i[R]=P,I=o++;break;case"end":delete i[R],--o;case"drag":T=Se(k||E,$),I=o;break}O.call(_,y,new zn(_,{sourceEvent:E,subject:m,target:f,identifier:R,active:I,x:T[0]+L,y:T[1]+z,dx:T[0]-A[0],dy:T[1]-A[1],dispatch:O}),S)}}return f.filter=function(y){return arguments.length?(e=typeof y=="function"?y:kt(!!y),f):e},f.container=function(y){return arguments.length?(t=typeof y=="function"?y:kt(y),f):t},f.subject=function(y){return arguments.length?(n=typeof y=="function"?y:kt(y),f):n},f.touchable=function(y){return arguments.length?(r=typeof y=="function"?y:kt(!!y),f):r},f.on=function(){var y=a.on.apply(a,arguments);return y===a?f:y},f.clickDistance=function(y){return arguments.length?(d=(y=+y)*y,f):Math.sqrt(d)},f}function lr(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function pa(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Nt(){}var vt=.7,Kt=1/vt,Qe="\\s*([+-]?\\d+)\\s*",yt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_e="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ju=/^#([0-9a-f]{3,8})$/,ef=new RegExp(`^rgb\\(${Qe},${Qe},${Qe}\\)$`),tf=new RegExp(`^rgb\\(${_e},${_e},${_e}\\)$`),nf=new RegExp(`^rgba\\(${Qe},${Qe},${Qe},${yt}\\)$`),rf=new RegExp(`^rgba\\(${_e},${_e},${_e},${yt}\\)$`),af=new RegExp(`^hsl\\(${yt},${_e},${_e}\\)$`),of=new RegExp(`^hsla\\(${yt},${_e},${_e},${yt}\\)$`),Yr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};lr(Nt,We,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Gr,formatHex:Gr,formatHex8:sf,formatHsl:lf,formatRgb:Kr,toString:Kr});function Gr(){return this.rgb().formatHex()}function sf(){return this.rgb().formatHex8()}function lf(){return va(this).formatHsl()}function Kr(){return this.rgb().formatRgb()}function We(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Ju.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Zr(t):n===3?new fe(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Rt(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Rt(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=ef.exec(e))?new fe(t[1],t[2],t[3],1):(t=tf.exec(e))?new fe(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=nf.exec(e))?Rt(t[1],t[2],t[3],t[4]):(t=rf.exec(e))?Rt(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=af.exec(e))?ei(t[1],t[2]/100,t[3]/100,1):(t=of.exec(e))?ei(t[1],t[2]/100,t[3]/100,t[4]):Yr.hasOwnProperty(e)?Zr(Yr[e]):e==="transparent"?new fe(NaN,NaN,NaN,0):null}function Zr(e){return new fe(e>>16&255,e>>8&255,e&255,1)}function Rt(e,t,n,r){return r<=0&&(e=t=n=NaN),new fe(e,t,n,r)}function cf(e){return e instanceof Nt||(e=We(e)),e?(e=e.rgb(),new fe(e.r,e.g,e.b,e.opacity)):new fe}function Dn(e,t,n,r){return arguments.length===1?cf(e):new fe(e,t,n,r??1)}function fe(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}lr(fe,Dn,pa(Nt,{brighter(e){return e=e==null?Kt:Math.pow(Kt,e),new fe(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?vt:Math.pow(vt,e),new fe(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new fe(He(this.r),He(this.g),He(this.b),Zt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Qr,formatHex:Qr,formatHex8:uf,formatRgb:Jr,toString:Jr}));function Qr(){return`#${qe(this.r)}${qe(this.g)}${qe(this.b)}`}function uf(){return`#${qe(this.r)}${qe(this.g)}${qe(this.b)}${qe((isNaN(this.opacity)?1:this.opacity)*255)}`}function Jr(){const e=Zt(this.opacity);return`${e===1?"rgb(":"rgba("}${He(this.r)}, ${He(this.g)}, ${He(this.b)}${e===1?")":`, ${e})`}`}function Zt(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function He(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function qe(e){return e=He(e),(e<16?"0":"")+e.toString(16)}function ei(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new xe(e,t,n,r)}function va(e){if(e instanceof xe)return new xe(e.h,e.s,e.l,e.opacity);if(e instanceof Nt||(e=We(e)),!e)return new xe;if(e instanceof xe)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,l=a-i,s=(a+i)/2;return l?(t===a?o=(n-r)/l+(n<r)*6:n===a?o=(r-t)/l+2:o=(t-n)/l+4,l/=s<.5?a+i:2-a-i,o*=60):l=s>0&&s<1?0:o,new xe(o,l,s,e.opacity)}function ff(e,t,n,r){return arguments.length===1?va(e):new xe(e,t,n,r??1)}function xe(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}lr(xe,ff,pa(Nt,{brighter(e){return e=e==null?Kt:Math.pow(Kt,e),new xe(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?vt:Math.pow(vt,e),new xe(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new fe(wn(e>=240?e-240:e+120,i,r),wn(e,i,r),wn(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new xe(ti(this.h),At(this.s),At(this.l),Zt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Zt(this.opacity);return`${e===1?"hsl(":"hsla("}${ti(this.h)}, ${At(this.s)*100}%, ${At(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ti(e){return e=(e||0)%360,e<0?e+360:e}function At(e){return Math.max(0,Math.min(1,e||0))}function wn(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const cr=e=>()=>e;function df(e,t){return function(n){return e+n*t}}function hf(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function mf(e){return(e=+e)==1?ya:function(t,n){return n-t?hf(t,n,e):cr(isNaN(t)?n:t)}}function ya(e,t){var n=t-e;return n?df(e,n):cr(isNaN(e)?t:e)}const Qt=function e(t){var n=mf(t);function r(i,a){var o=n((i=Dn(i)).r,(a=Dn(a)).r),l=n(i.g,a.g),s=n(i.b,a.b),c=ya(i.opacity,a.opacity);return function(u){return i.r=o(u),i.g=l(u),i.b=s(u),i.opacity=c(u),i+""}}return r.gamma=e,r}(1);function gf(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function pf(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function vf(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=ue(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(l){for(o=0;o<r;++o)a[o]=i[o](l);return a}}function yf(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Ce(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function xf(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=ue(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Bn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bn=new RegExp(Bn.source,"g");function wf(e){return function(){return e}}function bf(e){return function(t){return e(t)+""}}function xa(e,t){var n=Bn.lastIndex=bn.lastIndex=0,r,i,a,o=-1,l=[],s=[];for(e=e+"",t=t+"";(r=Bn.exec(e))&&(i=bn.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,s.push({i:o,x:Ce(r,i)})),n=bn.lastIndex;return n<t.length&&(a=t.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?s[0]?bf(s[0].x):wf(t):(t=s.length,function(c){for(var u=0,d;u<t;++u)l[(d=s[u]).i]=d.x(c);return l.join("")})}function ue(e,t){var n=typeof t,r;return t==null||n==="boolean"?cr(t):(n==="number"?Ce:n==="string"?(r=We(t))?(t=r,Qt):xa:t instanceof We?Qt:t instanceof Date?yf:pf(t)?gf:Array.isArray(t)?vf:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?xf:Ce)(e,t)}var ni=180/Math.PI,qn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function wa(e,t,n,r,i,a){var o,l,s;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(s=e*n+t*r)&&(n-=e*s,r-=t*s),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,s/=l),e*r<t*n&&(e=-e,t=-t,s=-s,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*ni,skewX:Math.atan(s)*ni,scaleX:o,scaleY:l}}var It;function Cf(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?qn:wa(t.a,t.b,t.c,t.d,t.e,t.f)}function _f(e){return e==null||(It||(It=document.createElementNS("http://www.w3.org/2000/svg","g")),It.setAttribute("transform",e),!(e=It.transform.baseVal.consolidate()))?qn:(e=e.matrix,wa(e.a,e.b,e.c,e.d,e.e,e.f))}function ba(e,t,n,r){function i(c){return c.length?c.pop()+" ":""}function a(c,u,d,f,p,b){if(c!==d||u!==f){var v=p.push("translate(",null,t,null,n);b.push({i:v-4,x:Ce(c,d)},{i:v-2,x:Ce(u,f)})}else(d||f)&&p.push("translate("+d+t+f+n)}function o(c,u,d,f){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),f.push({i:d.push(i(d)+"rotate(",null,r)-2,x:Ce(c,u)})):u&&d.push(i(d)+"rotate("+u+r)}function l(c,u,d,f){c!==u?f.push({i:d.push(i(d)+"skewX(",null,r)-2,x:Ce(c,u)}):u&&d.push(i(d)+"skewX("+u+r)}function s(c,u,d,f,p,b){if(c!==d||u!==f){var v=p.push(i(p)+"scale(",null,",",null,")");b.push({i:v-4,x:Ce(c,d)},{i:v-2,x:Ce(u,f)})}else(d!==1||f!==1)&&p.push(i(p)+"scale("+d+","+f+")")}return function(c,u){var d=[],f=[];return c=e(c),u=e(u),a(c.translateX,c.translateY,u.translateX,u.translateY,d,f),o(c.rotate,u.rotate,d,f),l(c.skewX,u.skewX,d,f),s(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,f),c=u=null,function(p){for(var b=-1,v=f.length,w;++b<v;)d[(w=f[b]).i]=w.x(p);return d.join("")}}}var Ef=ba(Cf,"px, ","px)","deg)"),Ff=ba(_f,", ",")",")"),$f=1e-12;function ri(e){return((e=Math.exp(e))+1/e)/2}function Pf(e){return((e=Math.exp(e))-1/e)/2}function Sf(e){return((e=Math.exp(2*e))-1)/(e+1)}const Nf=function e(t,n,r){function i(a,o){var l=a[0],s=a[1],c=a[2],u=o[0],d=o[1],f=o[2],p=u-l,b=d-s,v=p*p+b*b,w,g;if(v<$f)g=Math.log(f/c)/t,w=function(S){return[l+S*p,s+S*b,c*Math.exp(t*S*g)]};else{var x=Math.sqrt(v),C=(f*f-c*c+r*v)/(2*c*n*x),y=(f*f-c*c-r*v)/(2*f*n*x),$=Math.log(Math.sqrt(C*C+1)-C),F=Math.log(Math.sqrt(y*y+1)-y);g=(F-$)/t,w=function(S){var R=S*g,N=ri($),O=c/(n*x)*(N*Sf(t*R+$)-Pf($));return[l+O*p,s+O*b,c*N/ri(t*R+$)]}}return w.duration=g*1e3*t/Math.SQRT2,w}return i.rho=function(a){var o=Math.max(.001,+a),l=o*o,s=l*l;return e(o,l,s)},i}(Math.SQRT2,2,4);var nt=0,ut=0,at=0,Ca=1e3,Jt,ft,en=0,Ue=0,cn=0,xt=typeof performance=="object"&&performance.now?performance:Date,_a=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function ur(){return Ue||(_a(Of),Ue=xt.now()+cn)}function Of(){Ue=0}function tn(){this._call=this._time=this._next=null}tn.prototype=Ea.prototype={constructor:tn,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?ur():+n)+(t==null?0:+t),!this._next&&ft!==this&&(ft?ft._next=this:Jt=this,ft=this),this._call=e,this._time=n,Hn()},stop:function(){this._call&&(this._call=null,this._time=1/0,Hn())}};function Ea(e,t,n){var r=new tn;return r.restart(e,t,n),r}function Tf(){ur(),++nt;for(var e=Jt,t;e;)(t=Ue-e._time)>=0&&e._call.call(void 0,t),e=e._next;--nt}function ii(){Ue=(en=xt.now())+cn,nt=ut=0;try{Tf()}finally{nt=0,kf(),Ue=0}}function Mf(){var e=xt.now(),t=e-en;t>Ca&&(cn-=t,en=e)}function kf(){for(var e,t=Jt,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Jt=n);ft=e,Hn(r)}function Hn(e){if(!nt){ut&&(ut=clearTimeout(ut));var t=e-Ue;t>24?(e<1/0&&(ut=setTimeout(ii,e-xt.now()-cn)),at&&(at=clearInterval(at))):(at||(en=xt.now(),at=setInterval(Mf,Ca)),nt=1,_a(ii))}}function ai(e,t,n){var r=new tn;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var Rf=sn("start","end","cancel","interrupt"),Af=[],Fa=0,oi=1,Wn=2,Dt=3,si=4,Un=5,Bt=6;function un(e,t,n,r,i,a){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;If(e,n,{name:t,index:r,group:i,on:Rf,tween:Af,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Fa})}function fr(e,t){var n=be(e,t);if(n.state>Fa)throw new Error("too late; already scheduled");return n}function Fe(e,t){var n=be(e,t);if(n.state>Dt)throw new Error("too late; already running");return n}function be(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function If(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=Ea(a,0,n.time);function a(c){n.state=oi,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var u,d,f,p;if(n.state!==oi)return s();for(u in r)if(p=r[u],p.name===n.name){if(p.state===Dt)return ai(o);p.state===si?(p.state=Bt,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete r[u]):+u<t&&(p.state=Bt,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete r[u])}if(ai(function(){n.state===Dt&&(n.state=si,n.timer.restart(l,n.delay,n.time),l(c))}),n.state=Wn,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Wn){for(n.state=Dt,i=new Array(f=n.tween.length),u=0,d=-1;u<f;++u)(p=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(i[++d]=p);i.length=d+1}}function l(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(s),n.state=Un,1),d=-1,f=i.length;++d<f;)i[d].call(e,u);n.state===Un&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){n.state=Bt,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function qt(e,t){var n=e.__transition,r,i,a=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){a=!1;continue}i=r.state>Wn&&r.state<Un,r.state=Bt,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}a&&delete e.__transition}}function Vf(e){return this.each(function(){qt(this,e)})}function jf(e,t){var n,r;return function(){var i=Fe(this,e),a=i.tween;if(a!==n){r=n=a;for(var o=0,l=r.length;o<l;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function Lf(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=Fe(this,e),o=a.tween;if(o!==r){i=(r=o).slice();for(var l={name:t,value:n},s=0,c=i.length;s<c;++s)if(i[s].name===t){i[s]=l;break}s===c&&i.push(l)}a.tween=i}}function zf(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=be(this.node(),n).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((t==null?jf:Lf)(n,e,t))}function dr(e,t,n){var r=e._id;return e.each(function(){var i=Fe(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return be(i,r).value[t]}}function $a(e,t){var n;return(typeof t=="number"?Ce:t instanceof We?Qt:(n=We(t))?(t=n,Qt):xa)(e,t)}function Df(e){return function(){this.removeAttribute(e)}}function Bf(e){return function(){this.removeAttributeNS(e.space,e.local)}}function qf(e,t,n){var r,i=n+"",a;return function(){var o=this.getAttribute(e);return o===i?null:o===r?a:a=t(r=o,n)}}function Hf(e,t,n){var r,i=n+"",a;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===r?a:a=t(r=o,n)}}function Wf(e,t,n){var r,i,a;return function(){var o,l=n(this),s;return l==null?void this.removeAttribute(e):(o=this.getAttribute(e),s=l+"",o===s?null:o===r&&s===i?a:(i=s,a=t(r=o,l)))}}function Uf(e,t,n){var r,i,a;return function(){var o,l=n(this),s;return l==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),s=l+"",o===s?null:o===r&&s===i?a:(i=s,a=t(r=o,l)))}}function Xf(e,t){var n=ln(e),r=n==="transform"?Ff:$a;return this.attrTween(e,typeof t=="function"?(n.local?Uf:Wf)(n,r,dr(this,"attr."+e,t)):t==null?(n.local?Bf:Df)(n):(n.local?Hf:qf)(n,r,t))}function Yf(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Gf(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Kf(e,t){var n,r;function i(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&Gf(e,a)),n}return i._value=t,i}function Zf(e,t){var n,r;function i(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&Yf(e,a)),n}return i._value=t,i}function Qf(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=ln(e);return this.tween(n,(r.local?Kf:Zf)(r,t))}function Jf(e,t){return function(){fr(this,e).delay=+t.apply(this,arguments)}}function ed(e,t){return t=+t,function(){fr(this,e).delay=t}}function td(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Jf:ed)(t,e)):be(this.node(),t).delay}function nd(e,t){return function(){Fe(this,e).duration=+t.apply(this,arguments)}}function rd(e,t){return t=+t,function(){Fe(this,e).duration=t}}function id(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?nd:rd)(t,e)):be(this.node(),t).duration}function ad(e,t){if(typeof t!="function")throw new Error;return function(){Fe(this,e).ease=t}}function od(e){var t=this._id;return arguments.length?this.each(ad(t,e)):be(this.node(),t).ease}function sd(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Fe(this,e).ease=n}}function ld(e){if(typeof e!="function")throw new Error;return this.each(sd(this._id,e))}function cd(e){typeof e!="function"&&(e=ia(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,l=r[i]=[],s,c=0;c<o;++c)(s=a[c])&&e.call(s,s.__data__,c,a)&&l.push(s);return new Oe(r,this._parents,this._name,this._id)}function ud(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),o=new Array(r),l=0;l<a;++l)for(var s=t[l],c=n[l],u=s.length,d=o[l]=new Array(u),f,p=0;p<u;++p)(f=s[p]||c[p])&&(d[p]=f);for(;l<r;++l)o[l]=t[l];return new Oe(o,this._parents,this._name,this._id)}function fd(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function dd(e,t,n){var r,i,a=fd(t)?fr:Fe;return function(){var o=a(this,e),l=o.on;l!==r&&(i=(r=l).copy()).on(t,n),o.on=i}}function hd(e,t){var n=this._id;return arguments.length<2?be(this.node(),n).on.on(e):this.each(dd(n,e,t))}function md(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function gd(){return this.on("end.remove",md(this._id))}function pd(e){var t=this._name,n=this._id;typeof e!="function"&&(e=or(e));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var l=r[o],s=l.length,c=a[o]=new Array(s),u,d,f=0;f<s;++f)(u=l[f])&&(d=e.call(u,u.__data__,f,l))&&("__data__"in u&&(d.__data__=u.__data__),c[f]=d,un(c[f],t,n,f,c,be(u,n)));return new Oe(a,this._parents,t,n)}function vd(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ra(e));for(var r=this._groups,i=r.length,a=[],o=[],l=0;l<i;++l)for(var s=r[l],c=s.length,u,d=0;d<c;++d)if(u=s[d]){for(var f=e.call(u,u.__data__,d,s),p,b=be(u,n),v=0,w=f.length;v<w;++v)(p=f[v])&&un(p,t,n,v,f,b);a.push(f),o.push(u)}return new Oe(a,o,t,n)}var yd=St.prototype.constructor;function xd(){return new yd(this._groups,this._parents)}function wd(e,t){var n,r,i;return function(){var a=tt(this,e),o=(this.style.removeProperty(e),tt(this,e));return a===o?null:a===n&&o===r?i:i=t(n=a,r=o)}}function Pa(e){return function(){this.style.removeProperty(e)}}function bd(e,t,n){var r,i=n+"",a;return function(){var o=tt(this,e);return o===i?null:o===r?a:a=t(r=o,n)}}function Cd(e,t,n){var r,i,a;return function(){var o=tt(this,e),l=n(this),s=l+"";return l==null&&(s=l=(this.style.removeProperty(e),tt(this,e))),o===s?null:o===r&&s===i?a:(i=s,a=t(r=o,l))}}function _d(e,t){var n,r,i,a="style."+t,o="end."+a,l;return function(){var s=Fe(this,e),c=s.on,u=s.value[a]==null?l||(l=Pa(t)):void 0;(c!==n||i!==u)&&(r=(n=c).copy()).on(o,i=u),s.on=r}}function Ed(e,t,n){var r=(e+="")=="transform"?Ef:$a;return t==null?this.styleTween(e,wd(e,r)).on("end.style."+e,Pa(e)):typeof t=="function"?this.styleTween(e,Cd(e,r,dr(this,"style."+e,t))).each(_d(this._id,e)):this.styleTween(e,bd(e,r,t),n).on("end.style."+e,null)}function Fd(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function $d(e,t,n){var r,i;function a(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&Fd(e,o,n)),r}return a._value=t,a}function Pd(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,$d(e,t,n??""))}function Sd(e){return function(){this.textContent=e}}function Nd(e){return function(){var t=e(this);this.textContent=t??""}}function Od(e){return this.tween("text",typeof e=="function"?Nd(dr(this,"text",e)):Sd(e==null?"":e+""))}function Td(e){return function(t){this.textContent=e.call(this,t)}}function Md(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&Td(i)),t}return r._value=e,r}function kd(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Md(e))}function Rd(){for(var e=this._name,t=this._id,n=Sa(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],l=o.length,s,c=0;c<l;++c)if(s=o[c]){var u=be(s,t);un(s,e,n,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Oe(r,this._parents,e,n)}function Ad(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(a,o){var l={value:o},s={value:function(){--i===0&&a()}};n.each(function(){var c=Fe(this,r),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(s)),c.on=t}),i===0&&a()})}var Id=0;function Oe(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Sa(){return++Id}var Pe=St.prototype;Oe.prototype={constructor:Oe,select:pd,selectAll:vd,selectChild:Pe.selectChild,selectChildren:Pe.selectChildren,filter:cd,merge:ud,selection:xd,transition:Rd,call:Pe.call,nodes:Pe.nodes,node:Pe.node,size:Pe.size,empty:Pe.empty,each:Pe.each,on:hd,attr:Xf,attrTween:Qf,style:Ed,styleTween:Pd,text:Od,textTween:kd,remove:gd,tween:zf,delay:td,duration:id,ease:od,easeVarying:ld,end:Ad,[Symbol.iterator]:Pe[Symbol.iterator]};function Vd(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var jd={time:null,delay:0,duration:250,ease:Vd};function Ld(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function zd(e){var t,n;e instanceof Oe?(t=e._id,e=e._name):(t=Sa(),(n=jd).time=ur(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],l=o.length,s,c=0;c<l;++c)(s=o[c])&&un(s,e,t,c,o,n||Ld(s,t));return new Oe(r,this._parents,e,t)}St.prototype.interrupt=Vf;St.prototype.transition=zd;const Xn=Math.PI,Yn=2*Xn,Ve=1e-6,Dd=Yn-Ve;function Na(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Bd(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Na;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class qd{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Na:Bd(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,s=r-t,c=i-n,u=o-t,d=l-n,f=u*u+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(f>Ve)if(!(Math.abs(d*s-c*u)>Ve)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let p=r-o,b=i-l,v=s*s+c*c,w=p*p+b*b,g=Math.sqrt(v),x=Math.sqrt(f),C=a*Math.tan((Xn-Math.acos((v+f-w)/(2*g*x)))/2),y=C/x,$=C/g;Math.abs(y-1)>Ve&&this._append`L${t+y*u},${n+y*d}`,this._append`A${a},${a},0,0,${+(d*p>u*b)},${this._x1=t+$*s},${this._y1=n+$*c}`}}arc(t,n,r,i,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),s=r*Math.sin(i),c=t+l,u=n+s,d=1^o,f=o?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Ve||Math.abs(this._y1-u)>Ve)&&this._append`L${c},${u}`,r&&(f<0&&(f=f%Yn+Yn),f>Dd?this._append`A${r},${r},0,1,${d},${t-l},${n-s}A${r},${r},0,1,${d},${this._x1=c},${this._y1=u}`:f>Ve&&this._append`A${r},${r},0,${+(f>=Xn)},${d},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Hd(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function Wd(){return this.eachAfter(Hd)}function Ud(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function Xd(e,t){for(var n=this,r=[n],i,a,o=-1;n=r.pop();)if(e.call(t,n,++o,this),i=n.children)for(a=i.length-1;a>=0;--a)r.push(i[a]);return this}function Yd(e,t){for(var n=this,r=[n],i=[],a,o,l,s=-1;n=r.pop();)if(i.push(n),a=n.children)for(o=0,l=a.length;o<l;++o)r.push(a[o]);for(;n=i.pop();)e.call(t,n,++s,this);return this}function Gd(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function Kd(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function Zd(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function Qd(e){for(var t=this,n=Jd(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function Jd(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function eh(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function th(){return Array.from(this)}function nh(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function rh(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*ih(){var e=this,t,n=[e],r,i,a;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,a=r.length;i<a;++i)n.push(r[i]);while(n.length)}function nn(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=sh)):t===void 0&&(t=oh);for(var n=new wt(e),r,i=[n],a,o,l,s;r=i.pop();)if((o=t(r.data))&&(s=(o=Array.from(o)).length))for(r.children=o,l=s-1;l>=0;--l)i.push(a=o[l]=new wt(o[l])),a.parent=r,a.depth=r.depth+1;return n.eachBefore(ch)}function ah(){return nn(this).eachBefore(lh)}function oh(e){return e.children}function sh(e){return Array.isArray(e)?e[1]:null}function lh(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function ch(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function wt(e){this.data=e,this.depth=this.height=0,this.parent=null}wt.prototype=nn.prototype={constructor:wt,count:Wd,each:Ud,eachAfter:Yd,eachBefore:Xd,find:Gd,sum:Kd,sort:Zd,path:Qd,ancestors:eh,descendants:th,leaves:nh,links:rh,copy:ah,[Symbol.iterator]:ih};function uh(e,t){return e.parent===t.parent?1:2}function Cn(e){var t=e.children;return t?t[0]:e.t}function _n(e){var t=e.children;return t?t[t.length-1]:e.t}function fh(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function dh(e){for(var t=0,n=0,r=e.children,i=r.length,a;--i>=0;)a=r[i],a.z+=t,a.m+=t,t+=a.s+(n+=a.c)}function hh(e,t,n){return e.a.parent===t.parent?e.a:n}function Ht(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}Ht.prototype=Object.create(wt.prototype);function mh(e){for(var t=new Ht(e,0),n,r=[t],i,a,o,l;n=r.pop();)if(a=n._.children)for(n.children=new Array(l=a.length),o=l-1;o>=0;--o)r.push(i=n.children[o]=new Ht(a[o],o)),i.parent=n;return(t.parent=new Ht(null,0)).children=[t],t}function gh(){var e=uh,t=1,n=1,r=null;function i(c){var u=mh(c);if(u.eachAfter(a),u.parent.m=-u.z,u.eachBefore(o),r)c.eachBefore(s);else{var d=c,f=c,p=c;c.eachBefore(function(x){x.x<d.x&&(d=x),x.x>f.x&&(f=x),x.depth>p.depth&&(p=x)});var b=d===f?1:e(d,f)/2,v=b-d.x,w=t/(f.x+b+v),g=n/(p.depth||1);c.eachBefore(function(x){x.x=(x.x+v)*w,x.y=x.depth*g})}return c}function a(c){var u=c.children,d=c.parent.children,f=c.i?d[c.i-1]:null;if(u){dh(c);var p=(u[0].z+u[u.length-1].z)/2;f?(c.z=f.z+e(c._,f._),c.m=c.z-p):c.z=p}else f&&(c.z=f.z+e(c._,f._));c.parent.A=l(c,f,c.parent.A||d[0])}function o(c){c._.x=c.z+c.parent.m,c.m+=c.parent.m}function l(c,u,d){if(u){for(var f=c,p=c,b=u,v=f.parent.children[0],w=f.m,g=p.m,x=b.m,C=v.m,y;b=_n(b),f=Cn(f),b&&f;)v=Cn(v),p=_n(p),p.a=c,y=b.z+x-f.z-w+e(b._,f._),y>0&&(fh(hh(b,c,d),c,y),w+=y,g+=y),x+=b.m,w+=f.m,C+=v.m,g+=p.m;b&&!_n(p)&&(p.t=b,p.m+=x-g),f&&!Cn(v)&&(v.t=f,v.m+=w-C,d=c)}return d}function s(c){c.x*=t,c.y=c.depth*n}return i.separation=function(c){return arguments.length?(e=c,i):e},i.size=function(c){return arguments.length?(r=!1,t=+c[0],n=+c[1],i):r?null:[t,n]},i.nodeSize=function(c){return arguments.length?(r=!0,t=+c[0],n=+c[1],i):r?[t,n]:null},i}function Re(e){return function(){return e}}function Oa(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new qd(t)}var ph=Array.prototype.slice;function vh(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Ta(e){this._context=e}Ta.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function yh(e){return new Ta(e)}function Ma(e){return e[0]}function ka(e){return e[1]}function xh(e,t){var n=Re(!0),r=null,i=yh,a=null,o=Oa(l);e=typeof e=="function"?e:e===void 0?Ma:Re(e),t=typeof t=="function"?t:t===void 0?ka:Re(t);function l(s){var c,u=(s=vh(s)).length,d,f=!1,p;for(r==null&&(a=i(p=o())),c=0;c<=u;++c)!(c<u&&n(d=s[c],c,s))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+e(d,c,s),+t(d,c,s));if(p)return a=null,p+""||null}return l.x=function(s){return arguments.length?(e=typeof s=="function"?s:Re(+s),l):e},l.y=function(s){return arguments.length?(t=typeof s=="function"?s:Re(+s),l):t},l.defined=function(s){return arguments.length?(n=typeof s=="function"?s:Re(!!s),l):n},l.curve=function(s){return arguments.length?(i=s,r!=null&&(a=i(r)),l):i},l.context=function(s){return arguments.length?(s==null?r=a=null:a=i(r=s),l):r},l}class wh{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function bh(e){return new wh(e,!0)}function Ch(e){return e.source}function _h(e){return e.target}function Eh(e){let t=Ch,n=_h,r=Ma,i=ka,a=null,o=null,l=Oa(s);function s(){let c;const u=ph.call(arguments),d=t.apply(this,u),f=n.apply(this,u);if(a==null&&(o=e(c=l())),o.lineStart(),u[0]=d,o.point(+r.apply(this,u),+i.apply(this,u)),u[0]=f,o.point(+r.apply(this,u),+i.apply(this,u)),o.lineEnd(),c)return o=null,c+""||null}return s.source=function(c){return arguments.length?(t=c,s):t},s.target=function(c){return arguments.length?(n=c,s):n},s.x=function(c){return arguments.length?(r=typeof c=="function"?c:Re(+c),s):r},s.y=function(c){return arguments.length?(i=typeof c=="function"?c:Re(+c),s):i},s.context=function(c){return arguments.length?(c==null?a=o=null:o=e(a=c),s):a},s}function ot(){return Eh(bh)}const Vt=e=>()=>e;function Fh(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Ne(e,t,n){this.k=e,this.x=t,this.y=n}Ne.prototype={constructor:Ne,scale:function(e){return e===1?this:new Ne(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Ne(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var fn=new Ne(1,0,0);Ra.prototype=Ne.prototype;function Ra(e){for(;!e.__zoom;)if(!(e=e.parentNode))return fn;return e.__zoom}function En(e){e.stopImmediatePropagation()}function st(e){e.preventDefault(),e.stopImmediatePropagation()}function $h(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Ph(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function li(){return this.__zoom||fn}function Sh(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Nh(){return navigator.maxTouchPoints||"ontouchstart"in this}function Oh(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],a=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function Th(){var e=$h,t=Ph,n=Oh,r=Sh,i=Nh,a=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],l=250,s=Nf,c=sn("start","zoom","end"),u,d,f,p=500,b=150,v=0,w=10;function g(m){m.property("__zoom",li).on("wheel.zoom",R,{passive:!1}).on("mousedown.zoom",N).on("dblclick.zoom",O).filter(i).on("touchstart.zoom",T).on("touchmove.zoom",L).on("touchend.zoom touchcancel.zoom",z).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(m,P,_,E){var k=m.selection?m.selection():m;k.property("__zoom",li),m!==k?$(m,P,_,E):k.interrupt().each(function(){F(this,arguments).event(E).start().zoom(null,typeof P=="function"?P.apply(this,arguments):P).end()})},g.scaleBy=function(m,P,_,E){g.scaleTo(m,function(){var k=this.__zoom.k,A=typeof P=="function"?P.apply(this,arguments):P;return k*A},_,E)},g.scaleTo=function(m,P,_,E){g.transform(m,function(){var k=t.apply(this,arguments),A=this.__zoom,I=_==null?y(k):typeof _=="function"?_.apply(this,arguments):_,j=A.invert(I),V=typeof P=="function"?P.apply(this,arguments):P;return n(C(x(A,V),I,j),k,o)},_,E)},g.translateBy=function(m,P,_,E){g.transform(m,function(){return n(this.__zoom.translate(typeof P=="function"?P.apply(this,arguments):P,typeof _=="function"?_.apply(this,arguments):_),t.apply(this,arguments),o)},null,E)},g.translateTo=function(m,P,_,E,k){g.transform(m,function(){var A=t.apply(this,arguments),I=this.__zoom,j=E==null?y(A):typeof E=="function"?E.apply(this,arguments):E;return n(fn.translate(j[0],j[1]).scale(I.k).translate(typeof P=="function"?-P.apply(this,arguments):-P,typeof _=="function"?-_.apply(this,arguments):-_),A,o)},E,k)};function x(m,P){return P=Math.max(a[0],Math.min(a[1],P)),P===m.k?m:new Ne(P,m.x,m.y)}function C(m,P,_){var E=P[0]-_[0]*m.k,k=P[1]-_[1]*m.k;return E===m.x&&k===m.y?m:new Ne(m.k,E,k)}function y(m){return[(+m[0][0]+ +m[1][0])/2,(+m[0][1]+ +m[1][1])/2]}function $(m,P,_,E){m.on("start.zoom",function(){F(this,arguments).event(E).start()}).on("interrupt.zoom end.zoom",function(){F(this,arguments).event(E).end()}).tween("zoom",function(){var k=this,A=arguments,I=F(k,A).event(E),j=t.apply(k,A),V=_==null?y(j):typeof _=="function"?_.apply(k,A):_,B=Math.max(j[1][0]-j[0][0],j[1][1]-j[0][1]),H=k.__zoom,Q=typeof P=="function"?P.apply(k,A):P,J=s(H.invert(V).concat(B/H.k),Q.invert(V).concat(B/Q.k));return function(G){if(G===1)G=Q;else{var re=J(G),de=B/re[2];G=new Ne(de,V[0]-re[0]*de,V[1]-re[1]*de)}I.zoom(null,G)}})}function F(m,P,_){return!_&&m.__zooming||new S(m,P)}function S(m,P){this.that=m,this.args=P,this.active=0,this.sourceEvent=null,this.extent=t.apply(m,P),this.taps=0}S.prototype={event:function(m){return m&&(this.sourceEvent=m),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(m,P){return this.mouse&&m!=="mouse"&&(this.mouse[1]=P.invert(this.mouse[0])),this.touch0&&m!=="touch"&&(this.touch0[1]=P.invert(this.touch0[0])),this.touch1&&m!=="touch"&&(this.touch1[1]=P.invert(this.touch1[0])),this.that.__zoom=P,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(m){var P=ne(this.that).datum();c.call(m,this.that,new Fh(m,{sourceEvent:this.sourceEvent,target:g,type:m,transform:this.that.__zoom,dispatch:c}),P)}};function R(m,...P){if(!e.apply(this,arguments))return;var _=F(this,P).event(m),E=this.__zoom,k=Math.max(a[0],Math.min(a[1],E.k*Math.pow(2,r.apply(this,arguments)))),A=Se(m);if(_.wheel)(_.mouse[0][0]!==A[0]||_.mouse[0][1]!==A[1])&&(_.mouse[1]=E.invert(_.mouse[0]=A)),clearTimeout(_.wheel);else{if(E.k===k)return;_.mouse=[A,E.invert(A)],qt(this),_.start()}st(m),_.wheel=setTimeout(I,b),_.zoom("mouse",n(C(x(E,k),_.mouse[0],_.mouse[1]),_.extent,o));function I(){_.wheel=null,_.end()}}function N(m,...P){if(f||!e.apply(this,arguments))return;var _=m.currentTarget,E=F(this,P,!0).event(m),k=ne(m.view).on("mousemove.zoom",V,!0).on("mouseup.zoom",B,!0),A=Se(m,_),I=m.clientX,j=m.clientY;ma(m.view),En(m),E.mouse=[A,this.__zoom.invert(A)],qt(this),E.start();function V(H){if(st(H),!E.moved){var Q=H.clientX-I,J=H.clientY-j;E.moved=Q*Q+J*J>v}E.event(H).zoom("mouse",n(C(E.that.__zoom,E.mouse[0]=Se(H,_),E.mouse[1]),E.extent,o))}function B(H){k.on("mousemove.zoom mouseup.zoom",null),ga(H.view,E.moved),st(H),E.event(H).end()}}function O(m,...P){if(e.apply(this,arguments)){var _=this.__zoom,E=Se(m.changedTouches?m.changedTouches[0]:m,this),k=_.invert(E),A=_.k*(m.shiftKey?.5:2),I=n(C(x(_,A),E,k),t.apply(this,P),o);st(m),l>0?ne(this).transition().duration(l).call($,I,E,m):ne(this).call(g.transform,I,E,m)}}function T(m,...P){if(e.apply(this,arguments)){var _=m.touches,E=_.length,k=F(this,P,m.changedTouches.length===E).event(m),A,I,j,V;for(En(m),I=0;I<E;++I)j=_[I],V=Se(j,this),V=[V,this.__zoom.invert(V),j.identifier],k.touch0?!k.touch1&&k.touch0[2]!==V[2]&&(k.touch1=V,k.taps=0):(k.touch0=V,A=!0,k.taps=1+!!u);u&&(u=clearTimeout(u)),A&&(k.taps<2&&(d=V[0],u=setTimeout(function(){u=null},p)),qt(this),k.start())}}function L(m,...P){if(this.__zooming){var _=F(this,P).event(m),E=m.changedTouches,k=E.length,A,I,j,V;for(st(m),A=0;A<k;++A)I=E[A],j=Se(I,this),_.touch0&&_.touch0[2]===I.identifier?_.touch0[0]=j:_.touch1&&_.touch1[2]===I.identifier&&(_.touch1[0]=j);if(I=_.that.__zoom,_.touch1){var B=_.touch0[0],H=_.touch0[1],Q=_.touch1[0],J=_.touch1[1],G=(G=Q[0]-B[0])*G+(G=Q[1]-B[1])*G,re=(re=J[0]-H[0])*re+(re=J[1]-H[1])*re;I=x(I,Math.sqrt(G/re)),j=[(B[0]+Q[0])/2,(B[1]+Q[1])/2],V=[(H[0]+J[0])/2,(H[1]+J[1])/2]}else if(_.touch0)j=_.touch0[0],V=_.touch0[1];else return;_.zoom("touch",n(C(I,j,V),_.extent,o))}}function z(m,...P){if(this.__zooming){var _=F(this,P).event(m),E=m.changedTouches,k=E.length,A,I;for(En(m),f&&clearTimeout(f),f=setTimeout(function(){f=null},p),A=0;A<k;++A)I=E[A],_.touch0&&_.touch0[2]===I.identifier?delete _.touch0:_.touch1&&_.touch1[2]===I.identifier&&delete _.touch1;if(_.touch1&&!_.touch0&&(_.touch0=_.touch1,delete _.touch1),_.touch0)_.touch0[1]=this.__zoom.invert(_.touch0[0]);else if(_.end(),_.taps===2&&(I=Se(I,this),Math.hypot(d[0]-I[0],d[1]-I[1])<w)){var j=ne(this).on("dblclick.zoom");j&&j.apply(this,arguments)}}}return g.wheelDelta=function(m){return arguments.length?(r=typeof m=="function"?m:Vt(+m),g):r},g.filter=function(m){return arguments.length?(e=typeof m=="function"?m:Vt(!!m),g):e},g.touchable=function(m){return arguments.length?(i=typeof m=="function"?m:Vt(!!m),g):i},g.extent=function(m){return arguments.length?(t=typeof m=="function"?m:Vt([[+m[0][0],+m[0][1]],[+m[1][0],+m[1][1]]]),g):t},g.scaleExtent=function(m){return arguments.length?(a[0]=+m[0],a[1]=+m[1],g):[a[0],a[1]]},g.translateExtent=function(m){return arguments.length?(o[0][0]=+m[0][0],o[1][0]=+m[1][0],o[0][1]=+m[0][1],o[1][1]=+m[1][1],g):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},g.constrain=function(m){return arguments.length?(n=m,g):n},g.duration=function(m){return arguments.length?(l=+m,g):l},g.interpolate=function(m){return arguments.length?(s=m,g):s},g.on=function(){var m=c.on.apply(c,arguments);return m===c?g:m},g.clickDistance=function(m){return arguments.length?(v=(m=+m)*m,g):Math.sqrt(v)},g.tapDistance=function(m){return arguments.length?(w=+m,g):w},g}let jt;const Mh=new Uint8Array(16);function kh(){if(!jt&&(jt=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!jt))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return jt(Mh)}const oe=[];for(let e=0;e<256;++e)oe.push((e+256).toString(16).slice(1));function Rh(e,t=0){return oe[e[t+0]]+oe[e[t+1]]+oe[e[t+2]]+oe[e[t+3]]+"-"+oe[e[t+4]]+oe[e[t+5]]+"-"+oe[e[t+6]]+oe[e[t+7]]+"-"+oe[e[t+8]]+oe[e[t+9]]+"-"+oe[e[t+10]]+oe[e[t+11]]+oe[e[t+12]]+oe[e[t+13]]+oe[e[t+14]]+oe[e[t+15]]}const Ah=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),ci={randomUUID:Ah};function ui(e,t,n){if(ci.randomUUID&&!t&&!e)return ci.randomUUID();e=e||{};const r=e.random||(e.rng||kh)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return Rh(r)}const Ih=()=>U.jsxs("pattern",{id:"movingArrowPattern",width:"50",height:"10",patternUnits:"userSpaceOnUse",children:[U.jsx("rect",{width:"50",height:"10",fill:"url(#gradientBackground)"}),U.jsxs("linearGradient",{id:"gradientBackground",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[U.jsx("stop",{offset:"0%",style:{stopColor:"#d0e4eb",stopOpacity:1}}),U.jsx("stop",{offset:"100%",style:{stopColor:"#bde1ee",stopOpacity:1}})]}),U.jsx("path",{d:"M 0,5 L 12,5 L 9,2 M 12,5 L 9,8",stroke:"#d0e4eb",strokeWidth:"2",fill:"none"}),U.jsx("animateTransform",{attributeName:"patternTransform",type:"translate",from:"-50,0",to:"0,0",dur:"5s",repeatCount:"indefinite"})]});async function Vh(e){try{const t=await fetch("/api/engine/compileGroovyScript",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return t.ok?await t.json():(console.error("HTTP error:",t.status,t.statusText),[])}catch(t){return console.error("Network error:",t),[]}}const jh=()=>{function e(i,a){console.log("onMount: the value instance:",i),console.log("onMount: the event instance:",a)}const t=(i,a)=>{i.onDidChangeModelContent(async()=>{const o=i.getValue(),l=await Vh(o);a.editor.setModelMarkers(i.getModel(),"groovy",l)})};function n(i){i.languages.register({id:"groovy"}),i.languages.setMonarchTokensProvider("groovy",{tokenizer:{root:[[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"],[/@\w+/,"annotation"],[/"""/,{token:"string",next:"@multiLineString"}],[/"/,{token:"string",next:"@singleLineString"}],[/\/[^\/]*\//,"regexp"],[/\b(?:abstract|assert|break|case|catch|class|const|continue|def|default|do|else|enum|extends|false|final|finally|for|goto|if|implements|import|in|instanceof|interface|native|new|null|package|private|protected|public|return|static|strictfp|super|switch|synchronized|this|throw|throws|transient|true|try|volatile|while)\b/,"keyword"],[/[A-Z][\w\$]*/,"type.identifier"],[/\d+/,"number"],[/(\==~|\=~)/,"operator"],[/{/,"delimiter.curly","@closure"]],comment:[[/[^\/*]+/,"comment"],[/\*\//,"comment","@pop"]],closure:[[/}/,"delimiter.curly","@pop"],{include:"root"}],multiLineString:[[/[^"]+/,"string"],[/"""/,{token:"string",next:"@pop"}]],singleLineString:[[/\$\{/,{token:"delimiter.bracket",next:"@bracketCounting"}],[/"/,{token:"string",next:"@pop"}],[/[^"]+/,"string"]],bracketCounting:[[/\{/,"delimiter.bracket","@bracketCounting"],[/\}/,"delimiter.bracket","@pop"],{include:"root"}]},keywords:["abstract","assert","break","case","catch","class","const","continue","def","default","do","else","enum","extends","false","final","finally","for","goto","if","implements","import","in","instanceof","interface","native","new","null","package","private","protected","public","return","static","strictfp","super","switch","synchronized","this","throw","throws","transient","true","try","volatile","while"]});const a={provideCompletionItems:function(o,l){const s=o.getWordUntilPosition(l),c={startLineNumber:l.lineNumber,endLineNumber:l.lineNumber,startColumn:s.startColumn,endColumn:s.endColumn};return{suggestions:[{label:"println",kind:i.languages.CompletionItemKind.Function,insertText:'println("${1}")',insertTextRules:i.languages.CompletionItemInsertTextRule.InsertAsSnippet,documentation:"打印一行到控制台",range:c},{label:"for",kind:i.languages.CompletionItemKind.Keyword,insertText:"for (int ${1:i} = 0; ${1:i} < ${2:condition}; ${1:i}++) {\n	${3}\n}",insertTextRules:i.languages.CompletionItemInsertTextRule.InsertAsSnippet,documentation:"Groovy for 循环",range:c}]}},resolveCompletionItem:function(o){return o}};i.languages.registerCompletionItemProvider("groovy",a)}function r(i){i.forEach(a=>console.log("onValidate:",a.message))}return U.jsx("div",{children:U.jsx(za,{height:"70vh",onChange:e,onMount:t,beforeMount:n,onValidate:r,defaultLanguage:"groovy",defaultValue:"// some comment"})})},Lh="_nodePopup_j6w9u_1",zh="_node_j6w9u_1",Dh="_icon_j6w9u_27",ce={nodePopup:Lh,node:zh,icon:Dh},Bh=(e,t,n)=>{let r=1/0,i=-r,a=1/0,o=-a;e.each(f=>{f.x>i&&(i=f.x),f.x<r&&(r=f.x),f.y>o&&(o=f.y),f.y<a&&(a=f.y)});const l=(i-r)/2+r,s=(o-a)/2+a,c=t/2-s-550,u=n/2-l-250,d=(i-r)%2===0?0:30;return e.each(f=>{f.x+=d}),[c,u]},qh=e=>{const t=h.useRef(null),n=h.useRef(null),r=h.useRef(null),i=h.useRef(nn(e)),a=h.useRef(gh().nodeSize([100,250]).separation(function(){return 1})),o=h.useRef(null),[l,s]=h.useState(!1),[c,u]=h.useState(!1),[d,f]=h.useState({x:0,y:0}),[p,b]=h.useState(null),[v,w]=h.useState(null),g=h.useRef();function x(m){m.append("circle").attr("r",20).style("fill","#c0f1b0").style("stroke","#999").style("stroke-width",1.5).style("opacity",1).raise().on("mouseover",function(P,_){const A=Ra(t.current),I=A.applyX(_.y),j=A.applyY(_.x)-10-10,V=t.current.getBoundingClientRect(),B=V.left+window.scrollX+I,H=V.top+window.scrollY+j;ne(this).transition().duration(5).attr("r",25).style("fill","#a9db80"),s(!1),setTimeout(()=>{f({x:B,y:H}),s(!0),b(_)},1)}).on("mouseout",function(){ne(this).transition().duration(50).attr("r",20).style("fill","#c0f1b0")}).on("click",function(P,_){ne(this).transition().duration(50).style("fill","#a1c26f").transition().duration(10).style("fill","#c0f1b0"),w(_)}).on("contextmenu",function(P,_){P.preventDefault()}),m.append("text").attr("dy","-2em").attr("x",0).style("text-anchor","middle").text(P=>P.data.name).on("mouseover",function(){ne(this).transition().duration(150).style("fill","#000").style("font-weight","bold")}).on("mouseout",function(){ne(this).transition().duration(250).style("fill","#555").style("font-weight","normal")})}function C(){const P=r.current.selectAll(".node").data(i.current.descendants(),E=>E.data.id),_=P.enter().append("g").attr("class","node").attr("transform",E=>`translate(${E.y},${E.x})`).attr("id",E=>`node-${E.data.id}`);x(_),P.transition().duration(750).attr("transform",E=>`translate(${E.y},${E.x})`)}function y(){i.current.descendants().forEach(P=>{P.previousX=P.x,P.previousY=P.y});const m=i.current;console.log("data",JSON.stringify(m.data)),a.current(m),r.current.attr("transform",o.current.toString()),z(),C()}function $(m){var I;if(m.parent==null){Mt.error("根节点无法删除").then(j=>j);return}const P=m.descendants(),_=new Set(P.map(j=>j.data.id)),E=r.current.selectAll(".node").filter(function(j){return _.has(j.data.id)}),k=r.current.selectAll(".link").filter(j=>_.has(j.target.data.id));E.transition().duration(750).style("opacity",0).attr("transform",`translate(${m.parent.y},${m.parent.x})`).remove(),k.transition().duration(750).style("opacity",0).attrTween("d",function(j){const V={x:m.parent.x,y:m.parent.y},B=ue(j.source.x,V.x),H=ue(j.source.y,V.y),Q=ue(j.target.x,V.x),J=ue(j.target.y,V.y);return function(G){const re=B(G),de=H(G),Te=Q(G),$e=J(G),rt={source:{x:re,y:de},target:{x:Te,y:$e}};return ot().x(ee=>ee.y).y(ee=>ee.x)(rt)}}).remove();const A=m.parent.children;if(A&&(m.parent.children=A.filter(j=>j!==m),m.parent.children.length===0&&delete m.parent.children),m.parent.data.children)for(let j=0;j<((I=m.parent.data.children)==null?void 0:I.length);j++)m.parent.data.children[j].id===m.data.id&&m.parent.data.children.splice(j,1);setTimeout(y,750)}function F(m,P){m.depth=P,m.children&&m.children.forEach(_=>F(_,P+1))}function S(m){const P={id:ui(),name:"New Node"+Math.floor(Math.random()*90)+100,nodeType:"还没想好设计",scriptText:"脚本内容"+ui()};m.data.children||(m.data.children=[]),m.data.children.push(P),m.children||(m.children=[]);const _=nn(P);_.depth=m.depth+1,_.parent=m,m.children.push(_),y(),r.current.select(`#node-${P.id}`).transition().duration(750).style("opacity",1).attrTween("transform",function(k){const A=k.parent.previousX,I=k.parent.previousY,j=ue(A,k.x),V=ue(I,k.y);return function(B){return`translate(${V(B)},${j(B)})`}})}const R=m=>{$(m),s(!1)};function N(m){S(m),s(!1)}function O(){const m={x:0,y:0},P=Qu().on("start",function(_,E){if(u(!0),E===i.current){Mt.error("根节点不可拖拽").then(A=>A);return}m.x=_.x,m.y=_.y,E.descendants().forEach(A=>{A.relativeX=A.x-E.x,A.relativeY=A.y-E.y})}).on("drag",function(_,E){if(u(!0),E===i.current){Mt.error("根节点不可拖拽").then(V=>V);return}const k=_.x-m.x,A=_.y-m.y;ne(`#link-${E.data.id}`).transition().duration(100).style("opacity",0).on("end",function(){ne(this).remove()}),E.x=m.x+A,E.y=m.y+k,E.descendants().forEach(V=>{V.x=E.x+V.relativeX,V.y=E.y+V.relativeY,ne(`#node-${V.data.id}`).attr("transform",`translate(${V.y},${V.x})`)}),ne(this).attr("transform",`translate(${E.y},${E.x})`),E.descendants().forEach(V=>{const B={source:V.parent,target:V};ne(`#link-${V.data.id}`).attr("d",ot().x(H=>H.y).y(H=>H.x)(B))});let I=null,j=1/0;i.current.descendants().forEach(V=>{if(V!==E){const B=Math.sqrt((E.x-V.x)**2+(E.y-V.y)**2);B<j&&(j=B,I=V)}}),I&&j<120?(g.current=I,r.current.select(".preview-line").style("opacity",1).attr("d",xh()([[E.y,E.x],[I.y,I.x]]))):(g.current=null,r.current.select(".preview-line").style("opacity",0))}).on("end",function(_,E){var A;if(E===i.current){Mt.error("根节点不可拖拽").then(I=>I);return}const k=g.current;if(k){const I=E.parent,j=I.children;if(j&&(I.children=j.filter(V=>V!==E),I.children.length===0&&delete I.children),I.data.children)for(let V=0;V<((A=I.data.children)==null?void 0:A.length);V++)I.data.children[V].id===E.data.id&&I.data.children.splice(V,1);E.parent=k,k.children||(k.children=[]),F(E,k.depth+1),k.children.push(E),k.data.children||(k.data.children=[]),k.data.children.push(E.data),y(),r.current.select(".preview-line").style("opacity",0),g.current=null,setTimeout(()=>{u(!1)},1e3)}});r.current.selectAll(".node").call(P)}const T=[{icon:U.jsx(pe,{className:ce.icon}),label:"添加节点",action:()=>N(p)},{icon:U.jsx(pe,{className:ce.icon}),label:"删除节点",action:()=>R(p)},{icon:U.jsx(pe,{className:ce.icon}),label:"拖拽节点",action:()=>O()},{icon:U.jsx(pe,{className:ce.icon}),label:"拖拽节点",action:()=>O()},{icon:U.jsx(pe,{className:ce.icon}),label:"拖拽节点",action:()=>O()},{icon:U.jsx(pe,{className:ce.icon}),label:"拖拽节点",action:()=>O()},{icon:U.jsx(pe,{className:ce.icon}),label:"拖拽节点",action:()=>O()},{icon:U.jsx(pe,{className:ce.icon}),label:"拖拽节点",action:()=>O()},{icon:U.jsx(pe,{className:ce.icon}),label:"拖拽节点",action:()=>O()},{icon:U.jsx(pe,{className:ce.icon}),label:"拖拽节点",action:()=>O()},{icon:U.jsx(pe,{className:ce.icon}),label:"拖拽节点",action:()=>O()},{icon:U.jsx(pe,{className:ce.icon}),label:"拖拽节点",action:()=>O()}],L=U.jsx("div",{className:ce.nodePopup,children:T.map((m,P)=>U.jsxs("div",{className:ce.node,onClick:m.action,children:[m.icon,U.jsx("span",{className:ce.span,children:m.label})]},P))});function z(){const P=r.current.selectAll(".link").data(i.current.links(),_=>_.target.data.id);P.enter().append("path").attr("class","link").attr("fill","none").attr("stroke","url(#movingArrowPattern)").attr("stroke-width",10).attr("id",_=>`link-${_.target.data.id}`).lower().transition().duration(750).attrTween("d",function(_){let E=null;const k=i.current.descendants().find(A=>A.data.id===_.source.data.id);if(k!=null&&k.previousX&&(k!=null&&k.previousY)&&(E=[k.previousX,k.previousY]),E==null)return function(A){const I=ue(_.source.y,_.target.y),j=ue(_.source.x,_.target.x),V={source:{x:_.source.x,y:_.source.y},target:{x:j(A),y:I(A)}};return ot().x(B=>B.y).y(B=>B.x)(V)};{const A=E[1],I=E[0],j=ue(A,_.target.y),V=ue(I,_.target.x),B=ue(A,_.source.y),H=ue(I,_.source.x);return function(Q){const J=j(Q),G=V(Q),re={source:{x:H(Q),y:B(Q)},target:{x:G,y:J}};return ot().x(de=>de.y).y(de=>de.x)(re)}}}),P.exit().remove(),P.transition().duration(750).attr("d",ot().x(_=>_.y).y(_=>_.x))}return h.useEffect(()=>{if(!t.current)return;n.current=ne(t.current),r.current=n.current.append("g"),ne("body").on("click",()=>{s(!1)});const m=i.current;r.current.append("path").attr("class","preview-line").style("stroke","red").attr("stroke-width",4).style("stroke-dasharray","5,5").style("opacity",0),console.log("root",JSON.stringify(m.data)),a.current(m);const P=+n.current.attr("width"),_=+n.current.attr("height"),[E,k]=Bh(m,P,_);r.current.attr("transform",`translate(${E},${k})`);const A=n.current.select("g"),I=Th().scaleExtent([.4,5]).on("zoom",j=>{s(!1),o.current=j.transform,A.attr("transform",j.transform)});n.current.call(I),n.current.call(I.transform,fn.translate(E,k).scale(1)),n.current.on("dblclick.zoom",null),z(),C()},[e]),U.jsxs("div",{children:[U.jsx("svg",{ref:t,width:"2300",height:"1200",children:U.jsx(Ih,{})}),U.jsx(uc,{title:"Modal 1000px width",centered:!0,maskClosable:!1,open:v!=null,onOk:()=>w(null),onCancel:()=>w(null),width:900,children:U.jsx(jh,{})}),U.jsx("div",{style:{position:"absolute",left:d.x,top:d.y},children:U.jsx(Jl,{content:L,open:l&&!c})}),")"]})},Yh=()=>{const e={id:"1",name:"Root",nodeType:"nodeType",scriptText:"scriptText",children:[{id:"root123",name:"Child 1",nodeType:"nodeType",scriptText:"scriptText"},{id:"root369",name:"Child 2",nodeType:"nodeType",scriptText:"scriptText",children:[{id:"root456",name:"Grandchild 2-1",nodeType:"nodeType",scriptText:"scriptText"},{id:"root789",name:"Grandchild 2-2",nodeType:"nodeType",scriptText:"scriptText"},{id:"c61c9d6a-e9a9-4894-bd1a-cce8f7a16be3",name:"New Node355100",nodeType:"nodeType",scriptText:"scriptText"},{id:"256f8cf4-db66-4c06-bce0-da7044538ec8",name:"New Node892100",nodeType:"nodeType",scriptText:"scriptText"}]},{id:"root857",name:"Child 3",nodeType:"nodeType",scriptText:"scriptText"}]};return U.jsxs("div",{style:{backgroundColor:"#f1f0dc"},children:[U.jsx("h1",{children:"workflow index"}),U.jsx(qh,{...e})]})};export{Yh as default};
